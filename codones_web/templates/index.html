<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>An谩lisis Gen贸mico - E. coli K-12 MG1655</title>
    <script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.0"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        :root {
            --primary: #00f0ff;
            --primary-dark: #00b8c4;
            --secondary: #7df9ff;
            --accent: #ff6b6b;
            --success: #00ff9f;
            --warning: #ffaa00;
            --bg-dark: #050012;
            --bg-card: rgba(10, 10, 40, 0.85);
            --border: rgba(0, 240, 255, 0.3);
        }

        body {
            background: radial-gradient(circle at top right, #0a0028, #050012, #000);
            color: #e0e0ff;
            font-family: "Segoe UI", -apple-system, BlinkMacSystemFont, sans-serif;
            line-height: 1.6;
            overflow-x: hidden;
        }

        header {
            position: relative;
            text-align: center;
            padding: 60px 20px 40px;
            background: linear-gradient(135deg, rgba(0, 240, 255, 0.1), rgba(0, 240, 255, 0.02));
            border-bottom: 3px solid var(--primary);
            overflow: hidden;
        }

        header::before {
            content: '';
            position: absolute;
            top: -50%;
            left: -50%;
            width: 200%;
            height: 200%;
            background: radial-gradient(circle, rgba(0, 240, 255, 0.1) 1px, transparent 1px);
            background-size: 50px 50px;
            animation: gridMove 20s linear infinite;
            opacity: 0.3;
        }

        @keyframes gridMove {
            0% { transform: translate(0, 0); }
            100% { transform: translate(50px, 50px); }
        }

        .header-content {
            position: relative;
            z-index: 2;
        }

        .bacteria-container {
            width: 150px;
            height: 150px;
            margin: 0 auto 20px;
            position: relative;
        }

        .bacteria {
            width: 100%;
            height: 100%;
            animation: float 4s ease-in-out infinite, rotate 20s linear infinite;
            filter: drop-shadow(0 0 20px var(--primary));
        }

        @keyframes float {
            0%, 100% { transform: translateY(0px) scale(1); }
            50% { transform: translateY(-20px) scale(1.05); }
        }

        @keyframes rotate {
            from { transform: rotate(0deg); }
            to { transform: rotate(360deg); }
        }

        .particle {
            position: absolute;
            width: 4px;
            height: 4px;
            background: var(--primary);
            border-radius: 50%;
            animation: particleFloat 8s ease-in-out infinite;
            opacity: 0.6;
        }

        .particle:nth-child(1) { top: 20%; left: 10%; animation-delay: 0s; }
        .particle:nth-child(2) { top: 40%; right: 15%; animation-delay: 2s; }
        .particle:nth-child(3) { bottom: 30%; left: 20%; animation-delay: 4s; }
        .particle:nth-child(4) { top: 60%; right: 25%; animation-delay: 6s; }

        @keyframes particleFloat {
            0%, 100% { transform: translate(0, 0) scale(1); opacity: 0.6; }
            50% { transform: translate(30px, -30px) scale(1.5); opacity: 0.2; }
        }

        h1 {
            font-size: 3em;
            background: linear-gradient(135deg, var(--primary), var(--secondary));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            margin-bottom: 10px;
            animation: titleGlow 3s ease-in-out infinite;
        }

        @keyframes titleGlow {
            0%, 100% { filter: brightness(1); }
            50% { filter: brightness(1.3); }
        }

        .subtitle {
            color: var(--secondary);
            font-size: 1.3em;
            margin-top: 10px;
            font-weight: 300;
        }

        .author {
            color: #999;
            font-size: 0.95em;
            margin-top: 15px;
            font-style: italic;
        }

        .layout {
            display: flex;
            min-height: 100vh;
        }

        .sidebar {
            width: 280px;
            background: var(--bg-card);
            border-right: 2px solid var(--border);
            padding: 30px 0;
            position: fixed;
            left: 0;
            top: 0;
            height: 100vh;
            overflow-y: auto;
            z-index: 1000;
            transition: transform 0.3s ease;
            backdrop-filter: blur(10px);
        }

        .sidebar.hidden {
            transform: translateX(-100%);
        }

        .sidebar-header {
            padding: 0 20px 20px;
            border-bottom: 2px solid var(--border);
            margin-bottom: 20px;
        }

        .sidebar-title {
            color: var(--primary);
            font-size: 1.2em;
            font-weight: bold;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .nav-item {
            padding: 15px 25px;
            cursor: pointer;
            transition: all 0.3s ease;
            border-left: 4px solid transparent;
            display: flex;
            align-items: center;
            gap: 12px;
            color: #ccc;
            font-weight: 500;
        }

        .nav-item:hover {
            background: rgba(0, 240, 255, 0.1);
            border-left-color: var(--primary);
            color: var(--primary);
            padding-left: 30px;
        }

        .nav-item.active {
            background: linear-gradient(90deg, rgba(0, 240, 255, 0.2), transparent);
            border-left-color: var(--primary);
            color: var(--primary);
        }

        .nav-item i {
            width: 24px;
            font-size: 1.2em;
        }

        .sidebar-toggle {
            position: fixed;
            left: 20px;
            top: 20px;
            z-index: 1001;
            background: var(--primary);
            color: #000;
            border: none;
            padding: 12px 16px;
            border-radius: 8px;
            cursor: pointer;
            font-size: 1.2em;
            box-shadow: 0 4px 15px rgba(0, 240, 255, 0.5);
            transition: all 0.3s ease;
        }

        .sidebar-toggle:hover {
            transform: scale(1.1);
            box-shadow: 0 6px 20px rgba(0, 240, 255, 0.7);
        }

        .main-content {
            margin-left: 280px;
            flex: 1;
            padding: 30px;
            transition: margin-left 0.3s ease;
        }

        .main-content.expanded {
            margin-left: 0;
        }

        .container {
            max-width: 1400px;
            margin: 0 auto;
        }

        .dashboard {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 25px;
            margin-bottom: 40px;
        }

        .metric-card {
            background: linear-gradient(135deg, var(--bg-card), rgba(0, 240, 255, 0.05));
            border: 2px solid var(--primary);
            border-radius: 20px;
            padding: 30px;
            position: relative;
            overflow: hidden;
            transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
        }

        .metric-card::before {
            content: '';
            position: absolute;
            top: -50%;
            right: -50%;
            width: 200%;
            height: 200%;
            background: radial-gradient(circle, rgba(0, 240, 255, 0.1), transparent 70%);
            transition: all 0.6s ease;
            opacity: 0;
        }

        .metric-card:hover::before {
            opacity: 1;
            transform: scale(1.2);
        }

        .metric-card:hover {
            transform: translateY(-15px) scale(1.02);
            box-shadow: 0 20px 60px rgba(0, 240, 255, 0.4);
            border-color: var(--secondary);
        }

        .metric-icon {
            font-size: 3em;
            margin-bottom: 15px;
            background: linear-gradient(135deg, var(--primary), var(--secondary));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        .metric-label {
            color: var(--secondary);
            font-size: 0.95em;
            margin-bottom: 10px;
            text-transform: uppercase;
            letter-spacing: 1px;
            font-weight: 600;
        }

        .metric-value {
            font-size: 2.5em;
            color: var(--primary);
            font-weight: bold;
            text-shadow: 0 0 20px rgba(0, 240, 255, 0.5);
            margin-bottom: 8px;
        }

        .metric-subtext {
            color: #999;
            font-size: 0.85em;
        }

        .section {
            display: none;
            animation: fadeInUp 0.6s ease;
        }

        .section.active {
            display: block;
        }

        @keyframes fadeInUp {
            from { opacity: 0; transform: translateY(30px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .section-title {
            font-size: 2.2em;
            color: var(--primary);
            margin-bottom: 30px;
            display: flex;
            align-items: center;
            gap: 15px;
        }

        .card {
            background: var(--bg-card);
            border: 2px solid var(--border);
            border-radius: 20px;
            padding: 35px;
            margin-bottom: 30px;
            backdrop-filter: blur(10px);
            transition: all 0.4s ease;
            position: relative;
            overflow: hidden;
        }

        .card::after {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(0, 240, 255, 0.1), transparent);
            transition: left 0.6s ease;
        }

        .card:hover::after {
            left: 100%;
        }

        .card:hover {
            transform: translateY(-8px);
            box-shadow: 0 15px 50px rgba(0, 240, 255, 0.3);
            border-color: var(--primary);
        }

        .card h2 {
            color: var(--primary);
            margin-bottom: 25px;
            font-size: 1.8em;
            display: flex;
            align-items: center;
            gap: 12px;
        }

        .card h3 {
            color: var(--secondary);
            margin: 30px 0 20px;
            font-size: 1.4em;
        }

        .stat-box {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 25px;
            margin-bottom: 30px;
        }

        .stat-item {
            background: linear-gradient(135deg, rgba(0, 240, 255, 0.08), rgba(0, 240, 255, 0.02));
            padding: 28px;
            border-radius: 15px;
            border-left: 5px solid var(--primary);
            transition: all 0.3s ease;
            position: relative;
        }

        .stat-item::before {
            content: '';
            position: absolute;
            top: 0;
            right: 0;
            width: 60px;
            height: 60px;
            background: radial-gradient(circle, rgba(0, 240, 255, 0.2), transparent);
            border-radius: 0 15px 0 100%;
        }

        .stat-item:hover {
            transform: scale(1.05);
            background: linear-gradient(135deg, rgba(0, 240, 255, 0.15), rgba(0, 240, 255, 0.05));
            box-shadow: 0 10px 30px rgba(0, 240, 255, 0.3);
        }

        .stat-label {
            color: var(--secondary);
            font-size: 0.95em;
            margin-bottom: 12px;
            font-weight: 600;
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }

        .stat-value {
            font-size: 2.3em;
            color: var(--primary);
            font-weight: bold;
            text-shadow: 0 0 15px rgba(0, 240, 255, 0.5);
            margin-bottom: 10px;
        }

        .stat-subtext {
            color: #aaa;
            font-size: 0.88em;
            margin-top: 10px;
        }

        .progress-bar {
            width: 100%;
            height: 28px;
            background: rgba(0, 240, 255, 0.1);
            border-radius: 14px;
            overflow: hidden;
            margin-top: 12px;
            border: 1px solid var(--border);
            position: relative;
        }

        .progress-fill {
            height: 100%;
            background: linear-gradient(90deg, var(--primary), var(--secondary));
            border-radius: 14px;
            transition: width 2s cubic-bezier(0.4, 0, 0.2, 1);
            display: flex;
            align-items: center;
            justify-content: center;
            color: #000;
            font-weight: bold;
            font-size: 0.9em;
            position: relative;
            overflow: hidden;
        }

        .progress-fill::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.3), transparent);
            animation: shimmer 2s infinite;
        }

        @keyframes shimmer {
            0% { left: -100%; }
            100% { left: 100%; }
        }

        .info-box {
            background: linear-gradient(135deg, rgba(0, 240, 255, 0.15), rgba(0, 240, 255, 0.05));
            border: 2px solid var(--primary);
            border-left: 6px solid var(--primary);
            padding: 25px;
            border-radius: 12px;
            margin: 25px 0;
        }

        .info-box h3 {
            color: var(--primary);
            margin-bottom: 15px;
            display: flex;
            align-items: center;
            gap: 10px;
        }
    </style>
</head>
<body>

<button class="sidebar-toggle" onclick="toggleSidebar()">
    <i class="fas fa-bars"></i>
</button>

<div class="layout">
    <nav class="sidebar" id="sidebar">
        <div class="sidebar-header">
            <div class="sidebar-title">
                <i class="fas fa-dna"></i>
                Navegaci贸n
            </div>
        </div>
        
        <div class="nav-item active" onclick="showSection('dashboard')">
            <i class="fas fa-home"></i>
            <span>Dashboard</span>
        </div>
        
        <div class="nav-item" onclick="showSection('codones-cds')">
            <i class="fas fa-dna"></i>
            <span>Codones CDS</span>
        </div>
        
        <div class="nav-item" onclick="showSection('codones-genoma')">
            <i class="fas fa-search"></i>
            <span>Exploratorio</span>
        </div>
        
        <div class="nav-item" onclick="showSection('graficos')">
            <i class="fas fa-chart-line"></i>
            <span>Gr谩ficos</span>
        </div>
        
        <div class="nav-item" onclick="showSection('validacion')">
            <i class="fas fa-check-circle"></i>
            <span>Validaci贸n</span>
        </div>
        
        <div class="nav-item" onclick="showSection('compactacion')">
            <i class="fas fa-compress"></i>
            <span>Compactaci贸n</span>
        </div>
        
        <div class="nav-item" onclick="showSection('genes')">
            <i class="fas fa-microscope"></i>
            <span>Genes</span>
        </div>
        
        <div class="nav-item" onclick="showSection('espacios')">
            <i class="fas fa-ban"></i>
            <span>Espacios</span>
        </div>
        
        <div class="nav-item" onclick="showSection('comparativa')">
            <i class="fas fa-balance-scale"></i>
            <span>Comparativa</span>
        </div>
    </nav>

    <main class="main-content" id="mainContent">
        <header>
            <div class="particle"></div>
            <div class="particle"></div>
            <div class="particle"></div>
            <div class="particle"></div>
            
            <div class="header-content">
                <div class="bacteria-container">
                    <svg class="bacteria" viewBox="0 0 200 200" xmlns="http://www.w3.org/2000/svg">
                        <ellipse cx="100" cy="100" rx="80" ry="40" fill="url(#grad1)" opacity="0.8"/>
                        <ellipse cx="100" cy="100" rx="70" ry="35" fill="url(#grad2)"/>
                        <path d="M 20 100 Q 10 80, 5 60" stroke="var(--primary)" stroke-width="2" fill="none" opacity="0.6"/>
                        <path d="M 20 100 Q 10 120, 5 140" stroke="var(--primary)" stroke-width="2" fill="none" opacity="0.6"/>
                        <path d="M 180 100 Q 190 80, 195 60" stroke="var(--primary)" stroke-width="2" fill="none" opacity="0.6"/>
                        <path d="M 180 100 Q 190 120, 195 140" stroke="var(--primary)" stroke-width="2" fill="none" opacity="0.6"/>
                        <circle cx="60" cy="90" r="3" fill="var(--secondary)"/>
                        <circle cx="80" cy="85" r="3" fill="var(--secondary)"/>
                        <circle cx="120" cy="85" r="3" fill="var(--secondary)"/>
                        <circle cx="140" cy="90" r="3" fill="var(--secondary)"/>
                        <defs>
                            <linearGradient id="grad1" x1="0%" y1="0%" x2="100%" y2="100%">
                                <stop offset="0%" style="stop-color:var(--primary);stop-opacity:0.8" />
                                <stop offset="100%" style="stop-color:var(--secondary);stop-opacity:0.4" />
                            </linearGradient>
                            <linearGradient id="grad2" x1="0%" y1="0%" x2="100%" y2="0%">
                                <stop offset="0%" style="stop-color:var(--primary);stop-opacity:0.9" />
                                <stop offset="50%" style="stop-color:var(--secondary);stop-opacity:0.7" />
                                <stop offset="100%" style="stop-color:var(--primary);stop-opacity:0.9" />
                            </linearGradient>
                        </defs>
                    </svg>
                </div>
                
                <h1>К An谩lisis Gen贸mico</h1>
                <p class="subtitle"><i>Escherichia coli</i> K-12 MG1655</p>
                <p class="author">Universidad Nacional San Antonio Abad del Cusco</p>
            </div>
        </header>

        <div class="container">
            <!-- DASHBOARD -->
            <div id="dashboard" class="section active">
                <h2 class="section-title">
                    <i class="fas fa-tachometer-alt"></i>
                    Dashboard Principal
                </h2>

                <div class="dashboard">
                    <div class="metric-card">
                        <div class="metric-icon"><i class="fas fa-ruler-horizontal"></i></div>
                        <div class="metric-label">Longitud del Genoma</div>
                        <div class="metric-value">{{ "%.2f"|format(genome_length / 1000000) }} Mb</div>
                        <div class="metric-subtext">{{ "{:,}".format(genome_length) }} pares de bases</div>
                    </div>

        .alert-box {
            background: linear-gradient(135deg, rgba(255, 107, 107, 0.15), rgba(255, 107, 107, 0.05));
            border: 2px solid var(--accent);
            border-left: 6px solid var(--accent);
            padding: 25px;
            border-radius: 12px;
            margin: 25px 0;
        }

        .alert-box h3 {
            color: var(--accent);
            margin-bottom: 15px;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .table-wrapper {
            overflow-x: auto;
            margin: 25px 0;
            border-radius: 12px;
            border: 1px solid var(--border);
        }

        table {
            width: 100%;
            border-collapse: collapse;
            background: rgba(0, 240, 255, 0.02);
        }

        th, td {
            padding: 18px;
            text-align: left;
            border-bottom: 1px solid var(--border);
        }

        th {
            background: linear-gradient(135deg, rgba(0, 240, 255, 0.2), rgba(0, 240, 255, 0.1));
            color: var(--primary);
            font-weight: bold;
            text-transform: uppercase;
            font-size: 0.9em;
            letter-spacing: 1px;
        }

        tr:hover {
            background: rgba(0, 240, 255, 0.08);
        }

        .badge {
            display: inline-block;
            background: linear-gradient(135deg, var(--primary), var(--secondary));
            color: #000;
            padding: 8px 16px;
            border-radius: 20px;
            font-weight: bold;
            font-size: 0.9em;
            box-shadow: 0 4px 15px rgba(0, 240, 255, 0.3);
        }

        .validation-ok {
            background: var(--success);
            color: #000;
            padding: 6px 14px;
            border-radius: 20px;
            font-size: 0.85em;
            font-weight: bold;
            display: inline-block;
        }

        .validation-warning {
            background: var(--warning);
            color: #000;
            padding: 6px 14px;
            border-radius: 20px;
            font-size: 0.85em;
            font-weight: bold;
            display: inline-block;
        }

        .chart-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(500px, 1fr));
            gap: 35px;
            margin: 35px 0;
        }

        .chart-container {
            position: relative;
            height: 450px;
            background: rgba(0, 240, 255, 0.03);
            padding: 25px;
            border-radius: 15px;
            border: 2px solid var(--border);
        }

        /* BOTN VER GEN */
        .btn-ver-gen {
            padding: 8px 16px;
            background: linear-gradient(135deg, var(--primary), var(--secondary));
            color: #000;
            border: none;
            border-radius: 8px;
            cursor: pointer;
            font-weight: bold;
            transition: all 0.3s ease;
            box-shadow: 0 4px 15px rgba(0, 240, 255, 0.3);
        }

        .btn-ver-gen:hover {
            transform: scale(1.1);
            box-shadow: 0 6px 20px rgba(0, 240, 255, 0.5);
        }

        /* MODAL */
        .modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.9);
            z-index: 2000;
            overflow-y: auto;
            animation: fadeIn 0.3s ease;
        }

        .modal.show {
            display: block;
        }

        .modal-content {
            background: var(--bg-card);
            margin: 40px auto;
            max-width: 900px;
            padding: 40px;
            border-radius: 20px;
            border: 2px solid var(--primary);
            box-shadow: 0 20px 60px rgba(0, 240, 255, 0.5);
            position: relative;
            animation: slideDown 0.4s ease;
        }

        @keyframes slideDown {
            from { opacity: 0; transform: translateY(-50px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .modal-close {
            position: absolute;
            top: 20px;
            right: 20px;
            background: var(--accent);
            color: #fff;
            border: none;
            padding: 10px 20px;
            border-radius: 8px;
            cursor: pointer;
            font-weight: bold;
            font-size: 1.1em;
            transition: all 0.3s ease;
        }

        .modal-close:hover {
            transform: scale(1.1);
            box-shadow: 0 4px 15px rgba(255, 107, 107, 0.5);
        }

        .gen-detalle {
            background: rgba(0, 240, 255, 0.08);
            padding: 25px;
            margin: 20px 0;
            border-radius: 12px;
            border: 1px solid var(--border);
        }

        .gen-titulo {
            color: var(--primary);
            font-size: 1.5em;
            margin-bottom: 20px;
            font-weight: bold;
            padding-bottom: 15px;
            border-bottom: 2px solid var(--border);
        }

        .codones-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(120px, 1fr));
            gap: 15px;
            margin-top: 20px;
        }

        .codon-item {
            background: rgba(125, 249, 255, 0.1);
            padding: 15px;
            border-radius: 10px;
            border: 1px solid var(--secondary);
            text-align: center;
            transition: all 0.3s ease;
        }

        .codon-item:hover {
            transform: scale(1.1);
            background: rgba(125, 249, 255, 0.2);
            box-shadow: 0 4px 15px rgba(125, 249, 255, 0.3);
        }

        .codon-item .codon-label {
            color: var(--secondary);
            font-weight: bold;
            font-family: monospace;
            font-size: 1.1em;
        }

        .codon-item .codon-count {
            color: var(--primary);
            font-size: 1.4em;
            margin-top: 8px;
            font-weight: bold;
        }

        /* COMPARATIVA */
        .selector-container {
            display: flex;
            gap: 20px;
            align-items: center;
            justify-content: center;
            flex-wrap: wrap;
            margin: 30px 0;
            padding: 30px;
            background: rgba(0, 240, 255, 0.05);
            border-radius: 15px;
            border: 2px solid var(--border);
        }

        .selector-item {
            display: flex;
            flex-direction: column;
            gap: 12px;
        }

        .selector-item label {
            color: var(--secondary);
            font-weight: bold;
            text-transform: uppercase;
            letter-spacing: 1px;
        }

        .selector-item select {
            padding: 14px 20px;
            background: var(--bg-card);
            border: 2px solid var(--primary);
            border-radius: 10px;
            color: #e0e0ff;
            font-size: 1.05em;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .selector-item select:focus {
            outline: none;
            box-shadow: 0 0 20px rgba(0, 240, 255, 0.5);
        }

        .comparar-btn {
            padding: 16px 40px;
            background: linear-gradient(135deg, var(--primary), var(--secondary));
            border: none;
            color: #000;
            border-radius: 12px;
            cursor: pointer;
            font-weight: bold;
            font-size: 1.2em;
            transition: all 0.3s ease;
            box-shadow: 0 6px 20px rgba(0, 240, 255, 0.4);
        }

        .comparar-btn:hover {
            transform: translateY(-5px) scale(1.05);
            box-shadow: 0 10px 30px rgba(0, 240, 255, 0.6);
        }

        .comparativa-container {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 25px;
            margin: 30px 0;
        }

        .genoma-card {
            background: rgba(0, 240, 255, 0.08);
            border: 2px solid var(--primary);
            padding: 25px;
            border-radius: 15px;
        }

        .genoma-titulo {
            color: var(--primary);
            font-size: 1.4em;
            font-weight: bold;
            margin-bottom: 20px;
            padding-bottom: 15px;
            border-bottom: 2px solid var(--border);
        }

        .stat-row {
            display: flex;
            justify-content: space-between;
            padding: 12px 0;
            border-bottom: 1px solid var(--border);
        }

        .stat-row strong {
            color: var(--secondary);
        }

        .diferencia-item {
            background: rgba(10, 40, 40, 0.5);
            padding: 20px;
            margin: 15px 0;
            border-radius: 12px;
            border-left: 5px solid var(--accent);
            transition: all 0.3s ease;
        }

        .diferencia-item:hover {
            transform: translateX(10px);
            background: rgba(10, 40, 40, 0.7);
            box-shadow: 0 8px 25px rgba(255, 107, 107, 0.3);
        }

        .diferencia-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 15px;
        }

        .codon-badge {
            background: var(--primary);
            color: #000;
            padding: 10px 20px;
            border-radius: 25px;
            font-weight: bold;
            font-family: monospace;
            font-size: 1.1em;
        }

        .diferencia-valor {
            display: flex;
            gap: 20px;
            align-items: center;
        }

        .valor-genoma {
            background: rgba(0, 240, 255, 0.1);
            padding: 15px 25px;
            border-radius: 10px;
            border: 1px solid var(--border);
        }

        .valor-genoma strong {
            color: var(--secondary);
        }

        .flecha-diferencia {
            color: var(--accent);
            font-size: 1.8em;
            font-weight: bold;
        }

        .loading {
            color: var(--secondary);
            font-style: italic;
            padding: 30px;
            text-align: center;
            font-size: 1.2em;
        }

        footer {
            text-align: center;
            padding: 40px;
            margin-top: 60px;
            border-top: 2px solid var(--border);
            background: var(--bg-card);
        }

        footer p {
            color: #999;
            margin: 8px 0;
        }

        @media (max-width: 1024px) {
            .sidebar {
                transform: translateX(-100%);
            }
            
            .sidebar.visible {
                transform: translateX(0);
            }

            .main-content {
                margin-left: 0;
            }

            .dashboard {
                grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            }

            h1 {
                font-size: 2.2em;
            }

            .chart-grid {
                grid-template-columns: 1fr;
            }

            .comparativa-container {
                grid-template-columns: 1fr;
            }
        }

        @media (max-width: 768px) {
            .sidebar {
                width: 100%;
            }

            h1 {
                font-size: 1.8em;
            }

            .dashboard {
                grid-template-columns: 1fr;
            }
        }
/* ========================================
           ESTILOS DEL ASISTENTE IA
           ======================================== */
        
        .chat-container {
            display: grid;
            grid-template-columns: 300px 1fr;
            gap: 20px;
            height: calc(100vh - 200px);
        }
        
        .chat-sidebar-panel {
            background: var(--bg-card);
            border: 2px solid var(--border);
            border-radius: 20px;
            padding: 25px;
            overflow-y: auto;
        }
        
        .chat-main-panel {
            display: flex;
            flex-direction: column;
            background: var(--bg-card);
            border: 2px solid var(--border);
            border-radius: 20px;
            overflow: hidden;
        }
        
        .role-selector {
            margin-bottom: 25px;
        }
        
        .role-selector h3 {
            color: var(--primary);
            font-size: 1.1em;
            margin-bottom: 15px;
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        .role-option {
            background: rgba(0, 240, 255, 0.05);
            border: 2px solid rgba(0, 240, 255, 0.2);
            border-radius: 12px;
            padding: 12px 15px;
            margin-bottom: 10px;
            cursor: pointer;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        .role-option:hover {
            background: rgba(0, 240, 255, 0.1);
            border-color: var(--primary);
            transform: translateX(5px);
        }
        
        .role-option.active {
            background: linear-gradient(90deg, rgba(0, 240, 255, 0.2), transparent);
            border-color: var(--primary);
            box-shadow: 0 0 20px rgba(0, 240, 255, 0.3);
        }
        
        .role-option i {
            font-size: 1.3em;
            color: var(--primary);
        }
        
        .role-info {
            flex: 1;
        }
        
        .role-name {
            color: var(--secondary);
            font-weight: 600;
            margin-bottom: 3px;
        }
        
        .role-desc {
            color: #999;
            font-size: 0.85em;
        }
        
        .suggestions-panel {
            margin-top: 25px;
        }
        
        .suggestions-panel h3 {
            color: var(--primary);
            font-size: 1.1em;
            margin-bottom: 15px;
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        .suggestion-category {
            margin-bottom: 15px;
        }
        
        .suggestion-category-title {
            color: var(--secondary);
            font-size: 0.9em;
            font-weight: 600;
            margin-bottom: 8px;
            padding-left: 5px;
        }
        
        .suggestion-item {
            background: rgba(0, 240, 255, 0.05);
            border: 1px solid rgba(0, 240, 255, 0.2);
            border-radius: 8px;
            padding: 10px 12px;
            margin-bottom: 8px;
            cursor: pointer;
            transition: all 0.2s ease;
            font-size: 0.9em;
            color: #ccc;
        }
        
        .suggestion-item:hover {
            background: rgba(0, 240, 255, 0.15);
            border-color: var(--primary);
            color: var(--primary);
            transform: translateX(3px);
        }
        
        .chat-header {
            background: linear-gradient(135deg, rgba(0, 240, 255, 0.1), transparent);
            border-bottom: 2px solid var(--border);
            padding: 20px 25px;
        }
        
        .chat-header h2 {
            color: var(--primary);
            font-size: 1.5em;
            margin: 0;
            display: flex;
            align-items: center;
            gap: 12px;
        }
        
        .chat-messages {
            flex: 1;
            overflow-y: auto;
            padding: 25px;
            scroll-behavior: smooth;
        }
        
        .message {
            margin-bottom: 20px;
            animation: messageSlideIn 0.4s ease;
        }
        
        @keyframes messageSlideIn {
            from {
                opacity: 0;
                transform: translateY(20px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }
        
        .message-user {
            text-align: right;
        }
        
        .message-assistant {
            text-align: left;
        }
        
        .message-bubble {
            display: inline-block;
            max-width: 75%;
            padding: 15px 20px;
            border-radius: 18px;
            position: relative;
            line-height: 1.6;
        }
        
        .message-user .message-bubble {
            background: linear-gradient(135deg, var(--primary), var(--primary-dark));
            color: #000;
            border-bottom-right-radius: 4px;
            font-weight: 500;
        }
        
        .message-assistant .message-bubble {
            background: rgba(0, 240, 255, 0.1);
            border: 1px solid var(--border);
            color: #e0e0ff;
            border-bottom-left-radius: 4px;
        }
        
        .message-timestamp {
            font-size: 0.75em;
            color: #666;
            margin-top: 5px;
        }
        
        .typing-indicator {
            display: none;
            padding: 15px 20px;
            background: rgba(0, 240, 255, 0.1);
            border: 1px solid var(--border);
            border-radius: 18px;
            display: inline-block;
        }
        
        .typing-indicator.active {
            display: inline-block;
        }
        
        .typing-dot {
            display: inline-block;
            width: 8px;
            height: 8px;
            border-radius: 50%;
            background: var(--primary);
            margin: 0 3px;
            animation: typingBounce 1.4s infinite;
        }
        
        .typing-dot:nth-child(2) {
            animation-delay: 0.2s;
        }
        
        .typing-dot:nth-child(3) {
            animation-delay: 0.4s;
        }
        
        @keyframes typingBounce {
            0%, 60%, 100% {
                transform: translateY(0);
            }
            30% {
                transform: translateY(-10px);
            }
        }
        
        .chat-input-container {
            border-top: 2px solid var(--border);
            padding: 20px 25px;
            background: rgba(0, 0, 20, 0.5);
        }
        
        .chat-input-wrapper {
            display: flex;
            gap: 12px;
            align-items: center;
        }
        
        .chat-input {
            flex: 1;
            background: rgba(0, 240, 255, 0.05);
            border: 2px solid var(--border);
            border-radius: 25px;
            padding: 15px 20px;
            color: #e0e0ff;
            font-size: 1em;
            font-family: inherit;
            resize: none;
            max-height: 120px;
            transition: all 0.3s ease;
        }
        
        .chat-input:focus {
            outline: none;
            border-color: var(--primary);
            box-shadow: 0 0 20px rgba(0, 240, 255, 0.3);
            background: rgba(0, 240, 255, 0.08);
        }
        
        .chat-send-btn {
            background: linear-gradient(135deg, var(--primary), var(--primary-dark));
            border: none;
            border-radius: 50%;
            width: 50px;
            height: 50px;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: all 0.3s ease;
            color: #000;
            font-size: 1.2em;
        }
        
        .chat-send-btn:hover {
            transform: scale(1.1);
            box-shadow: 0 8px 25px rgba(0, 240, 255, 0.5);
        }
        
        .chat-send-btn:active {
            transform: scale(0.95);
        }
        
        .chat-send-btn:disabled {
            opacity: 0.5;
            cursor: not-allowed;
        }
        
        .welcome-message {
            text-align: center;
            padding: 40px 20px;
            color: #999;
        }
        
        .welcome-message i {
            font-size: 4em;
            color: var(--primary);
            margin-bottom: 20px;
            opacity: 0.3;
        }
        
        .welcome-message h3 {
            color: var(--secondary);
            margin-bottom: 10px;
        }
        
        @media (max-width: 1024px) {
            .chat-container {
                grid-template-columns: 1fr;
            }
            
            .chat-sidebar-panel {
                display: none;
            }
        }
    
        /* ========================================
           ESTILOS DEL ASISTENTE IA
           ======================================== */
        
        .chat-container {
            display: grid;
            grid-template-columns: 300px 1fr;
            gap: 20px;
            height: calc(100vh - 200px);
        }
        
        .chat-sidebar-panel {
            background: var(--bg-card);
            border: 2px solid var(--border);
            border-radius: 20px;
            padding: 25px;
            overflow-y: auto;
        }
        
        .chat-main-panel {
            display: flex;
            flex-direction: column;
            background: var(--bg-card);
            border: 2px solid var(--border);
            border-radius: 20px;
            overflow: hidden;
        }
        
        .role-selector h3 {
            color: var(--primary);
            font-size: 1.1em;
            margin-bottom: 15px;
        }
        
        .role-option {
            background: rgba(0, 240, 255, 0.05);
            border: 2px solid rgba(0, 240, 255, 0.2);
            border-radius: 12px;
            padding: 12px 15px;
            margin-bottom: 10px;
            cursor: pointer;
            transition: all 0.3s ease;
        }
        
        .role-option:hover {
            background: rgba(0, 240, 255, 0.1);
            border-color: var(--primary);
            transform: translateX(5px);
        }
        
        .role-option.active {
            background: linear-gradient(90deg, rgba(0, 240, 255, 0.2), transparent);
            border-color: var(--primary);
            box-shadow: 0 0 20px rgba(0, 240, 255, 0.3);
        }
        
        .chat-messages {
            flex: 1;
            overflow-y: auto;
            padding: 25px;
        }
        
        .message {
            margin-bottom: 20px;
            animation: messageSlideIn 0.4s ease;
        }
        
        @keyframes messageSlideIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }
        
        .message-user { text-align: right; }
        .message-assistant { text-align: left; }
        
        .message-bubble {
            display: inline-block;
            max-width: 75%;
            padding: 15px 20px;
            border-radius: 18px;
            line-height: 1.6;
        }
        
        .message-user .message-bubble {
            background: linear-gradient(135deg, var(--primary), var(--primary-dark));
            color: #000;
            font-weight: 500;
        }
        
        .message-assistant .message-bubble {
            background: rgba(0, 240, 255, 0.1);
            border: 1px solid var(--border);
            color: #e0e0ff;
        }
        
        .chat-input-container {
            border-top: 2px solid var(--border);
            padding: 20px 25px;
        }
        
        .chat-input-wrapper {
            display: flex;
            gap: 12px;
        }
        
        .chat-input {
            flex: 1;
            background: rgba(0, 240, 255, 0.05);
            border: 2px solid var(--border);
            border-radius: 25px;
            padding: 15px 20px;
            color: #e0e0ff;
            font-size: 1em;
            font-family: inherit;
        }
        
        .chat-input:focus {
            outline: none;
            border-color: var(--primary);
            box-shadow: 0 0 20px rgba(0, 240, 255, 0.3);
        }
        
        .chat-send-btn {
            background: linear-gradient(135deg, var(--primary), var(--primary-dark));
            border: none;
            border-radius: 50%;
            width: 50px;
            height: 50px;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            color: #000;
            font-size: 1.2em;
        }
        
        .chat-send-btn:hover {
            transform: scale(1.1);
            box-shadow: 0 8px 25px rgba(0, 240, 255, 0.5);
        }
        
        @media (max-width: 1024px) {
            .chat-container {
                grid-template-columns: 1fr;
            }
            .chat-sidebar-panel {
                display: none;
            }
        }
    </style>
</head>
<body>

<button class="sidebar-toggle" onclick="toggleSidebar()">
    <i class="fas fa-bars"></i>
</button>

<div class="layout">
    <nav class="sidebar" id="sidebar">
        <div class="sidebar-header">
            <div class="sidebar-title">
                <i class="fas fa-dna"></i>
                Navegaci贸n
            </div>
        </div>
        
        <div class="nav-item active" onclick="showSection('dashboard', this)">
            <i class="fas fa-home"></i>
            <span>Dashboard</span>
        </div>
        
        <div class="nav-item" onclick="showSection('codones-cds', this)">
            <i class="fas fa-dna"></i>
            <span>Codones CDS</span>
        </div>
        
        <div class="nav-item" onclick="showSection('codones-genoma', this)">
            <i class="fas fa-search"></i>
            <span>Exploratorio</span>
        </div>
        
        <div class="nav-item" onclick="showSection('graficos', this)">
            <i class="fas fa-chart-line"></i>
            <span>Gr谩ficos</span>
        </div>
        
        <div class="nav-item" onclick="showSection('validacion', this)">
            <i class="fas fa-check-circle"></i>
            <span>Validaci贸n</span>
        </div>
        
        <div class="nav-item" onclick="showSection('compactacion', this)">
            <i class="fas fa-compress"></i>
            <span>Compactaci贸n</span>
        </div>
        
        <div class="nav-item" onclick="showSection('genes', this)">
            <i class="fas fa-microscope"></i>
            <span>Genes</span>
        </div>
        
        <div class="nav-item" onclick="showSection('espacios', this)">
            <i class="fas fa-ban"></i>
            <span>Espacios</span>
        </div>
        
        <div class="nav-item" onclick="showSection('comparativa', this)">
            <i class="fas fa-balance-scale"></i>
            <span>Comparativa</span>
        </div>
        
        <div class="nav-item" onclick="showSection('asistente-ia', this)">
            <i class="fas fa-robot"></i>
            <span>Asistente IA</span>
        </div>
        <div class="nav-item" onclick="showSection('diagrama-genomico', this)">
            <i class="fas fa-project-diagram"></i> 
            <span>Diagrama Gen贸mico</span>
        </div>
    </nav>

    <main class="main-content" id="mainContent">
        <header>
            <div class="particle"></div>
            <div class="particle"></div>
            <div class="particle"></div>
            <div class="particle"></div>
            
            <div class="header-content">
                <div class="bacteria-container">
                    <svg class="bacteria" viewBox="0 0 200 200" xmlns="http://www.w3.org/2000/svg">
                        <ellipse cx="100" cy="100" rx="80" ry="40" fill="url(#grad1)" opacity="0.8"/>
                        <ellipse cx="100" cy="100" rx="70" ry="35" fill="url(#grad2)"/>
                        <path d="M 20 100 Q 10 80, 5 60" stroke="var(--primary)" stroke-width="2" fill="none" opacity="0.6"/>
                        <path d="M 20 100 Q 10 120, 5 140" stroke="var(--primary)" stroke-width="2" fill="none" opacity="0.6"/>
                        <path d="M 180 100 Q 190 80, 195 60" stroke="var(--primary)" stroke-width="2" fill="none" opacity="0.6"/>
                        <path d="M 180 100 Q 190 120, 195 140" stroke="var(--primary)" stroke-width="2" fill="none" opacity="0.6"/>
                        <circle cx="60" cy="90" r="3" fill="var(--secondary)"/>
                        <circle cx="80" cy="85" r="3" fill="var(--secondary)"/>
                        <circle cx="120" cy="85" r="3" fill="var(--secondary)"/>
                        <circle cx="140" cy="90" r="3" fill="var(--secondary)"/>
                        <defs>
                            <linearGradient id="grad1" x1="0%" y1="0%" x2="100%" y2="100%">
                                <stop offset="0%" style="stop-color:var(--primary);stop-opacity:0.8" />
                                <stop offset="100%" style="stop-color:var(--secondary);stop-opacity:0.4" />
                            </linearGradient>
                            <linearGradient id="grad2" x1="0%" y1="0%" x2="100%" y2="0%">
                                <stop offset="0%" style="stop-color:var(--primary);stop-opacity:0.9" />
                                <stop offset="50%" style="stop-color:var(--secondary);stop-opacity:0.7" />
                                <stop offset="100%" style="stop-color:var(--primary);stop-opacity:0.9" />
                            </linearGradient>
                        </defs>
                    </svg>
                </div>
                
                <h1>К An谩lisis Gen贸mico</h1>
                <p class="subtitle"><i>Escherichia coli</i> K-12 MG1655</p>
                <p class="author">Universidad Nacional San Antonio Abad del Cusco</p>
            </div>
        </header>

        <div class="container">
            <!-- DASHBOARD -->
            <div id="dashboard" class="section active">
                <h2 class="section-title">
                    <i class="fas fa-tachometer-alt"></i>
                    Dashboard Principal
                </h2>

                <div class="dashboard">
                    <div class="metric-card">
                        <div class="metric-icon"><i class="fas fa-ruler-horizontal"></i></div>
                        <div class="metric-label">Longitud del Genoma</div>
                        <div class="metric-value">{{ "%.2f"|format(genome_length / 1000000) }} Mb</div>
                        <div class="metric-subtext">{{ "{:,}".format(genome_length) }} pares de bases</div>
                    </div>

                    <div class="metric-card">
                        <div class="metric-icon"><i class="fas fa-percent"></i></div>
                        <div class="metric-label">Contenido GC</div>
                        <div class="metric-value">{{ "%.2f"|format(gc) }}%</div>
                        <div class="progress-bar">
                            <div class="progress-fill" data-width="{{ gc }}">{{ "%.1f"|format(gc) }}%</div>
                        </div>
                    </div>

                    <div class="metric-card">
                        <div class="metric-icon"><i class="fas fa-dna"></i></div>
                        <div class="metric-label">Total de Genes</div>
                        <div class="metric-value">{{ "{:,}".format(num_genes) }}</div>
                        <div class="metric-subtext">Secuencias codificantes</div>
                    </div>

                    <div class="metric-card">
                        <div class="metric-icon"><i class="fas fa-compress-arrows-alt"></i></div>
                        <div class="metric-label">Compactaci贸n</div>
                        <div class="metric-value">{{ "%.1f"|format(compactacion.porcentaje_compactacion) }}%</div>
                        <div class="metric-subtext">Genoma eficiente</div>
                    </div>
                </div>

                <div class="card">
                    <h2><i class="fas fa-check-double"></i> Resumen de Validaci贸n</h2>
                    <div class="stat-box">
                        <div class="stat-item">
                            <div class="stat-label">Estado General</div>
                            <div class="stat-value" style="color: var(--success);">
                                <i class="fas fa-check-circle"></i> VALIDADO
                            </div>
                            <div class="stat-subtext">Todos los par谩metros correctos</div>
                        </div>
                        <div class="stat-item">
                            <div class="stat-label">Literatura</div>
                            <div class="stat-value">100%</div>
                            <div class="stat-subtext">Blattner et al. (1997)</div>
                        </div>
                        <div class="stat-item">
                            <div class="stat-label">Codones STOP</div>
                            <div class="stat-value">{{ "{:,}".format(codones_stop_cds.TAA + codones_stop_cds.TAG + codones_stop_cds.TGA) }}</div>
                            <div class="stat-subtext">Uno por gen </div>
                        </div>
                    </div>
                </div>

                <div class="card">
                    <h2><i class="fas fa-trophy"></i> Genes Extremos</h2>
                    <div class="stat-box">
                        <div class="stat-item">
                            <div class="stat-label"> Gen m谩s GRANDE</div>
                            <div class="stat-value" style="color: var(--accent);">{{ gen_mas_grande.gen }}</div>
                            <p style="color: var(--secondary); margin-top: 12px;">{{ gen_mas_grande.producto[:50] }}...</p>
                            <p style="color: #aaa;">{{ "{:,}".format(gen_mas_grande.longitud) }} pb</p>
                        </div>
                        <div class="stat-item">
                            <div class="stat-label"> Gen m谩s PEQUEO</div>
                            <div class="stat-value" style="color: var(--secondary);">{{ gen_mas_pequeno.gen }}</div>
                            <p style="color: var(--secondary); margin-top: 12px;">{{ gen_mas_pequeno.producto[:50] }}...</p>
                            <p style="color: #aaa;">{{ "{:,}".format(gen_mas_pequeno.longitud) }} pb</p>
                        </div>
                    </div>
                </div>
            </div>

            <!-- CODONES CDS -->
            <div id="codones-cds" class="section">
                <h2 class="section-title">
                    <i class="fas fa-dna"></i>
                    Codones en CDS (M茅todo Correcto)
                </h2>

                <div class="info-box">
                    <h3><i class="fas fa-info-circle"></i> Metodolog铆a Correcta</h3>
                    <p>
                        Este an谩lisis cuenta codones <strong>SOLO dentro de secuencias codificantes (CDS)</strong>, 
                        respetando el marco de lectura correcto (+0). Los resultados coinciden con la literatura cient铆fica.
                    </p>
                </div>

                <div class="card">
                    <h2><i class="fas fa-play-circle"></i> An谩lisis de ATG</h2>
                    
                    <h3><i class="fas fa-flag-checkered"></i> ATG Iniciales</h3>
                    <div class="stat-box">
                        <div class="stat-item">
                            <div class="stat-label">ATG Iniciales</div>
                            <div class="stat-value">{{ "{:,}".format(atg_stats.iniciales) }}</div>
                            <div class="stat-subtext">
                                <i class="fas fa-check-circle" style="color: var(--success);"></i> 
                                Esperado: {{ "{:,}".format(num_genes) }}
                            </div>
                        </div>
                        <div class="stat-item">
                            <div class="stat-label">% Genes con ATG</div>
                            <div class="stat-value">{{ "%.1f"|format((atg_stats.iniciales / num_genes) * 100) }}%</div>
                            <div class="stat-subtext">La mayor铆a usa ATG</div>
                        </div>
                        <div class="stat-item">
                            <div class="stat-label">Cod贸n Alternativo</div>
                            <div class="stat-value" style="color: var(--warning);">{{ atg_stats.genes_sin_atg }}</div>
                            <div class="stat-subtext">GTG, TTG, etc.</div>
                        </div>
                    </div>

                    <h3 style="margin-top: 40px;"><i class="fas fa-layer-group"></i> ATG Internos</h3>
                    <div class="stat-box">
                        <div class="stat-item">
                            <div class="stat-label">Total ATG en CDS</div>
                            <div class="stat-value">{{ "{:,}".format(atg_stats.total_en_cds) }}</div>
                            <div class="stat-subtext">Iniciales + internos</div>
                        </div>
                        <div class="stat-item">
                            <div class="stat-label">ATG Internos</div>
                            <div class="stat-value">{{ "{:,}".format(atg_stats.no_iniciales) }}</div>
                            <div class="stat-subtext">Codifican Metionina</div>
                        </div>
                        <div class="stat-item">
                            <div class="stat-label">Densidad ATG</div>
                            <div class="stat-value">{{ "%.2f"|format(atg_stats.total_en_cds / (genome_length / 1000)) }}</div>
                            <div class="stat-subtext">ATG por kb</div>
                        </div>
                    </div>
                </div>

                <div class="card">
                    <h2><i class="fas fa-stop-circle"></i> Codones STOP</h2>
                    
                    <div class="stat-box">
                        <div class="stat-item">
                            <div class="stat-label">TAA (Ochre)</div>
                            <div class="stat-value">{{ "{:,}".format(codones_stop_cds.TAA) }}</div>
                            <div class="progress-bar">
                                <div class="progress-fill" data-width="{{ stop_props_cds.TAA }}">
                                    {{ "%.1f"|format(stop_props_cds.TAA) }}%
                                </div>
                            </div>
                            <div class="stat-subtext">
                                {{ "%.2f"|format(stop_props_cds.TAA) }}% (Esperado: 60-65%)
                                <span class="validation-ok"></span>
                            </div>
                        </div>

                        <div class="stat-item">
                            <div class="stat-label">TAG (Amber)</div>
                            <div class="stat-value">{{ "{:,}".format(codones_stop_cds.TAG) }}</div>
                            <div class="progress-bar">
                                <div class="progress-fill" data-width="{{ stop_props_cds.TAG * 2 }}" style="background: linear-gradient(90deg, var(--accent), #ff9999);">
                                    {{ "%.1f"|format(stop_props_cds.TAG) }}%
                                </div>
                            </div>
                            <div class="stat-subtext">
                                {{ "%.2f"|format(stop_props_cds.TAG) }}% (Esperado: 5-10%)
                                <span class="validation-ok"></span>
                            </div>
                        </div>

                        <div class="stat-item">
                            <div class="stat-label">TGA (Opal)</div>
                            <div class="stat-value">{{ "{:,}".format(codones_stop_cds.TGA) }}</div>
                            <div class="progress-bar">
                                <div class="progress-fill" data-width="{{ stop_props_cds.TGA }}" style="background: linear-gradient(90deg, var(--secondary), var(--primary));">
                                    {{ "%.1f"|format(stop_props_cds.TGA) }}%
                                </div>
                            </div>
                            <div class="stat-subtext">
                                {{ "%.2f"|format(stop_props_cds.TGA) }}% (Esperado: 25-35%)
                                <span class="validation-ok"></span>
                            </div>
                        </div>
                    </div>

                    <div class="info-box" style="margin-top: 30px;">
                        <h3><i class="fas fa-chart-pie"></i> Resumen</h3>
                        <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 20px; margin-top: 20px;">
                            <div style="background: rgba(0,240,255,0.08); padding: 20px; border-radius: 10px;">
                                <strong style="color: var(--secondary);">Total STOP:</strong><br>
                                <span style="color: var(--primary); font-size: 1.8em; font-weight: bold;">
                                    {{ "{:,}".format(codones_stop_cds.TAA + codones_stop_cds.TAG + codones_stop_cds.TGA) }}
                                </span><br>
                                <span style="color: #aaa; font-size: 0.9em;">Uno por gen</span>
                            </div>
                            <div style="background: rgba(0,240,255,0.08); padding: 20px; border-radius: 10px;">
                                <strong style="color: var(--secondary);">Validaci贸n:</strong><br>
                                <span style="color: var(--success); font-size: 1.8em; font-weight: bold;">
                                    <i class="fas fa-check-circle"></i> 100%
                                </span><br>
                                <span style="color: #aaa; font-size: 0.9em;">Con literatura</span>
                            </div>
                            <div style="background: rgba(0,240,255,0.08); padding: 20px; border-radius: 10px;">
                                <strong style="color: var(--secondary);">M谩s Usado:</strong><br>
                                <span style="color: var(--primary); font-size: 1.8em; font-weight: bold;">
                                    TAA
                                </span><br>
                                <span style="color: #aaa; font-size: 0.9em;">63.97%</span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- EXPLORATORIO -->
            <div id="codones-genoma" class="section">
                <h2 class="section-title">
                    <i class="fas fa-search"></i>
                    An谩lisis Exploratorio
                </h2>

                <div class="alert-box">
                    <h3><i class="fas fa-exclamation-triangle"></i> M茅todo Exploratorio</h3>
                    <p>Cuenta <strong>TODOS los tripletes</strong> sin considerar:</p>
                    <ul style="margin-left: 25px; margin-top: 15px; line-height: 1.8;">
                        <li>Si est谩n dentro de genes</li>
                        <li>Si respetan el marco de lectura</li>
                        <li>Si son funcionalmente activos</li>
                    </ul>
                </div>

                <div class="card">
                    <h2><i class="fas fa-layer-group"></i> Tripletes ATG</h2>
                    
                    <div class="stat-box">
                        <div class="stat-item">
                            <div class="stat-label">Total Tripletes ATG</div>
                            <div class="stat-value">{{ "{:,}".format(atg_total_genoma) }}</div>
                            <div class="stat-subtext">En todo el genoma</div>
                        </div>
                        <div class="stat-item">
                            <div class="stat-label">ATG Funcionales</div>
                            <div class="stat-value" style="color: var(--success);">{{ "{:,}".format(atg_stats.iniciales) }}</div>
                            <div class="stat-subtext">
                                {{ "%.2f"|format((atg_stats.iniciales / atg_total_genoma) * 100) }}% reales
                            </div>
                        </div>
                        <div class="stat-item">
                            <div class="stat-label">ATG No Funcionales</div>
                            <div class="stat-value" style="color: var(--accent);">{{ "{:,}".format(atg_total_genoma - atg_stats.total_en_cds) }}</div>
                            <div class="stat-subtext">Por azar estad铆stico</div>
                        </div>
                    </div>
                </div>

                <div class="card">
                    <h2><i class="fas fa-stop-circle"></i> Tripletes STOP</h2>
                    
                    <div class="stat-box">
                        <div class="stat-item">
                            <div class="stat-label">TAA</div>
                            <div class="stat-value">{{ "{:,}".format(codones_stop_genoma.TAA) }}</div>
                            <div class="stat-subtext">{{ "%.2f"|format(stop_props_genoma.TAA) }}%</div>
                        </div>
                        <div class="stat-item">
                            <div class="stat-label">TAG</div>
                            <div class="stat-value">{{ "{:,}".format(codones_stop_genoma.TAG) }}</div>
                            <div class="stat-subtext">{{ "%.2f"|format(stop_props_genoma.TAG) }}%</div>
                        </div>
                        <div class="stat-item">
                            <div class="stat-label">TGA</div>
                            <div class="stat-value">{{ "{:,}".format(codones_stop_genoma.TGA) }}</div>
                            <div class="stat-subtext">{{ "%.2f"|format(stop_props_genoma.TGA) }}%</div>
                        </div>
                    </div>

                    <div class="alert-box" style="margin-top: 30px;">
                        <h3><i class="fas fa-balance-scale"></i> Comparaci贸n</h3>
                        <p style="font-size: 1.1em; line-height: 2;">
                            <strong>Total genoma:</strong> {{ "{:,}".format(codones_stop_genoma.TAA + codones_stop_genoma.TAG + codones_stop_genoma.TGA) }}<br>
                            <strong>Funcionales (CDS):</strong> {{ "{:,}".format(codones_stop_cds.TAA + codones_stop_cds.TAG + codones_stop_cds.TGA) }}<br>
                            <strong>% funcional:</strong> {{ "%.2f"|format(((codones_stop_cds.TAA + codones_stop_cds.TAG + codones_stop_cds.TGA) / (codones_stop_genoma.TAA + codones_stop_genoma.TAG + codones_stop_genoma.TGA)) * 100) }}%
                        </p>
                    </div>
                </div>
            </div>

            <!-- GRFICOS -->
            <div id="graficos" class="section">
                <h2 class="section-title">
                    <i class="fas fa-chart-line"></i>
                    Gr谩ficos
                </h2>
                <div class="card">
                    <div class="chart-grid">
                        <div class="chart-container">
                            <canvas id="chartComparacion"></canvas>
                        </div>
                        <div class="chart-container">
                            <canvas id="chartProporciones"></canvas>
                        </div>
                    </div>
                </div>
            </div>

            <!-- VALIDACIN -->
            <div id="validacion" class="section">
                <h2 class="section-title"><i class="fas fa-check-circle"></i> Validaci贸n</h2>
                <div class="card">
                    <h2>Validaci贸n con Literatura</h2>
                    <div class="table-wrapper">
                        <table>
                            <thead>
                                <tr>
                                    <th>Par谩metro</th>
                                    <th>Obtenido</th>
                                    <th>Esperado</th>
                                    <th>Estado</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>Longitud</td>
                                    <td>{{ "{:,}".format(validacion.longitud_valor) }} pb</td>
                                    <td>{{ validacion.longitud_esperado }}</td>
                                    <td>
                                        {% if validacion.longitud_ok %}
                                        <span class="validation-ok"> Correcto</span>
                                        {% else %}
                                        <span class="validation-warning"> Fuera</span>
                                        {% endif %}
                                    </td>
                                </tr>
                                <tr>
                                    <td>GC</td>
                                    <td>{{ validacion.gc_valor }}%</td>
                                    <td>{{ validacion.gc_esperado }}</td>
                                    <td>
                                        {% if validacion.gc_ok %}
                                        <span class="validation-ok"> Correcto</span>
                                        {% else %}
                                        <span class="validation-warning"> Fuera</span>
                                        {% endif %}
                                    </td>
                                </tr>
                                <tr>
                                    <td>Genes</td>
                                    <td>{{ "{:,}".format(validacion.genes_valor) }}</td>
                                    <td>{{ validacion.genes_esperado }}</td>
                                    <td>
                                        {% if validacion.genes_ok %}
                                        <span class="validation-ok"> Correcto</span>
                                        {% else %}
                                        <span class="validation-warning"> Fuera</span>
                                        {% endif %}
                                    </td>
                                </tr>
                                <tr>
                                    <td>TAA</td>
                                    <td>{{ validacion.taa_valor }}%</td>
                                    <td>{{ validacion.taa_esperado }}</td>
                                    <td>
                                        {% if validacion.taa_ok %}
                                        <span class="validation-ok"> Correcto</span>
                                        {% else %}
                                        <span class="validation-warning"> Fuera</span>
                                        {% endif %}
                                    </td>
                                </tr>
                                <tr>
                                    <td>TAG</td>
                                    <td>{{ validacion.tag_valor }}%</td>
                                    <td>{{ validacion.tag_esperado }}</td>
                                    <td>
                                        {% if validacion.tag_ok %}
                                        <span class="validation-ok"> Correcto</span>
                                        {% else %}
                                        <span class="validation-warning"> Fuera</span>
                                        {% endif %}
                                    </td>
                                </tr>
                                <tr>
                                    <td>TGA</td>
                                    <td>{{ validacion.tga_valor }}%</td>
                                    <td>{{ validacion.tga_esperado }}</td>
                                    <td>
                                        {% if validacion.tga_ok %}
                                        <span class="validation-ok"> Correcto</span>
                                        {% else %}
                                        <span class="validation-warning"> Fuera</span>
                                        {% endif %}
                                    </td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>

            <!-- COMPACTACIN -->
            <div id="compactacion" class="section">
                <h2 class="section-title"><i class="fas fa-compress"></i> Compactaci贸n</h2>
                <div class="card">
                    <h2>Compactaci贸n G茅nica</h2>
                    <div class="stat-box">
                        <div class="stat-item">
                            <div class="stat-label">% Codificante</div>
                            <div class="stat-value">{{ "%.2f"|format(compactacion.porcentaje_compactacion) }}%</div>
                            <div class="progress-bar">
                                <div class="progress-fill" data-width="{{ compactacion.porcentaje_compactacion }}">
                                    {{ "%.1f"|format(compactacion.porcentaje_compactacion) }}%
                                </div>
                            </div>
                        </div>
                        <div class="stat-item">
                            <div class="stat-label">Codificante</div>
                            <div class="stat-value">{{ "{:,}".format(compactacion.longitud_codificante) }}</div>
                            <div class="stat-subtext">pb</div>
                        </div>
                        <div class="stat-item">
                            <div class="stat-label">No Codificante</div>
                            <div class="stat-value">{{ "{:,}".format(compactacion.longitud_no_codificante) }}</div>
                            <div class="stat-subtext">pb</div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- GENES CON BOTN VER -->
            <div id="genes" class="section">
                <h2 class="section-title"><i class="fas fa-microscope"></i> Genes Detallados</h2>
                <div class="card">
                    <h2><i class="fas fa-dna"></i> Explorador de Genes</h2>
                    <input type="text" id="search-genes" placeholder=" Buscar gen o producto..." 
                           onkeyup="buscarGenes()" 
                           style="padding: 14px 20px; background: rgba(0,240,255,0.1); border: 2px solid var(--primary); 
                                  border-radius: 10px; color: #fff; width: 100%; margin-bottom: 25px; font-size: 1.05em;">
                    <div id="genes-results" class="loading">Cargando genes...</div>
                </div>
            </div>

            <!-- ESPACIOS -->
            <div id="espacios" class="section">
                <h2 class="section-title"><i class="fas fa-ban"></i> Espacios Interg茅nicos</h2>
                <div class="card">
                    <h2>Regiones No Codificantes</h2>
                    {% for espacio in espacios %}
                    <div class="diferencia-item" style="border-left-color: var(--warning);">
                        <strong style="color: var(--primary);">{{ espacio.entre_genes }}</strong><br>
                        <span style="color: #aaa;">Tama帽o: {{ "{:,}".format(espacio.tama帽o) }} pb | GC: {{ "%.2f"|format(espacio.contenido_gc) }}%</span>
                    </div>
                    {% endfor %}
                </div>
            </div>

            <!-- COMPARATIVA INTERACTIVA -->
            <div id="comparativa" class="section">
                <h2 class="section-title"><i class="fas fa-balance-scale"></i> Comparativa Interactiva de Genomas</h2>
                
                <div class="card">
                    <h2><i class="fas fa-dna"></i> Comparar Genomas de E. coli</h2>
                    <p style="color: var(--secondary); margin-bottom: 25px; font-size: 1.1em;">
                        Selecciona 2 cepas diferentes y analiza sus diferencias a nivel de codones
                    </p>

                    <div class="selector-container">
                        <div class="selector-item">
                            <label>Genoma 1:</label>
                            <select id="genoma1-select">
                                <option value="">Cargando genomas...</option>
                            </select>
                        </div>

                        <div style="color: var(--primary); font-size: 2.5em; font-weight: bold;"></div>

                        <div class="selector-item">
                            <label>Genoma 2:</label>
                            <select id="genoma2-select">
                                <option value="">Cargando genomas...</option>
                            </select>
                        </div>

                        <button class="comparar-btn" onclick="compararGenomas()">
                            <i class="fas fa-chart-bar"></i> COMPARAR
                        </button>
                    </div>

                    <div id="comparativa-loading" class="loading" style="display: none;">
                        <i class="fas fa-spinner fa-spin"></i> Analizando genomas y calculando diferencias...
                    </div>

                    <div id="comparativa-result" style="display: none;">
                        <!-- RESUMEN DE DIFERENCIAS -->
                        <div style="background: linear-gradient(135deg, rgba(255, 107, 107, 0.15), rgba(255, 107, 107, 0.05)); 
                                    border: 2px solid var(--accent); border-radius: 15px; padding: 30px; margin-bottom: 30px;">
                            <h3 style="color: var(--accent); margin-bottom: 20px;">
                                <i class="fas fa-chart-pie"></i> Resumen de Diferencias
                            </h3>
                            <div id="resumen-diferencias"></div>
                        </div>

                        <!-- GENOMAS LADO A LADO -->
                        <h3 style="color: var(--primary); margin: 35px 0 20px 0;">
                            <i class="fas fa-microscope"></i> Informaci贸n de Genomas
                        </h3>
                        <div class="comparativa-container" id="genomas-info"></div>

                        <!-- DIFERENCIAS CODON POR CODON -->
                        <div style="margin-top: 40px;">
                            <h3 style="color: var(--primary); margin-bottom: 20px;">
                                <i class="fas fa-dna"></i> Top 30 Diferencias en Codones
                            </h3>
                            <p style="color: var(--secondary); margin-bottom: 20px;">
                                Codones que m谩s var铆an entre las 2 cepas seleccionadas
                            </p>
                            <div id="diferencias-codones"></div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- ASISTENTE IA -->
            <div id="asistente-ia" class="section">
                <h2 class="section-title">
                    <i class="fas fa-robot"></i>
                    Asistente IA - An谩lisis Gen贸mico
                </h2>
                
                <div class="chat-container">
                    <div class="chat-sidebar-panel">
                        <div class="role-selector">
                            <h3><i class="fas fa-user-circle"></i> Nivel de Explicaci贸n</h3>
                            <div class="role-option active" data-role="estudiante" onclick="seleccionarRol('estudiante')">
                                <strong> Estudiante</strong><br>
                                <small style="color: #999;">Explicaciones simples</small>
                            </div>
                            <div class="role-option" data-role="investigador" onclick="seleccionarRol('investigador')">
                                <strong> Investigador</strong><br>
                                <small style="color: #999;">An谩lisis t茅cnico</small>
                            </div>
                            <div class="role-option" data-role="docente" onclick="seleccionarRol('docente')">
                                <strong>ㄢ Docente</strong><br>
                                <small style="color: #999;">Enfoque pedag贸gico</small>
                            </div>
                            <div class="role-option" data-role="divulgador" onclick="seleccionarRol('divulgador')">
                                <strong> Divulgador</strong><br>
                                <small style="color: #999;">Lenguaje accesible</small>
                            </div>
                        </div>
                        
                        <div style="margin-top: 25px;">
                            <h3 style="color: var(--primary); font-size: 1.1em; margin-bottom: 15px;">
                                <i class="fas fa-lightbulb"></i> Preguntas Sugeridas
                            </h3>
                            <div style="background: rgba(0,240,255,0.05); border: 1px solid var(--border); border-radius: 8px; padding: 10px; margin-bottom: 8px; cursor: pointer; font-size: 0.9em;" onclick="enviarPreguntaSugerida(this)">
                                驴Cu谩l es el significado del contenido GC?
                            </div>
                            <div style="background: rgba(0,240,255,0.05); border: 1px solid var(--border); border-radius: 8px; padding: 10px; margin-bottom: 8px; cursor: pointer; font-size: 0.9em;" onclick="enviarPreguntaSugerida(this)">
                                驴Por qu茅 E. coli K-12 es importante?
                            </div>
                            <div style="background: rgba(0,240,255,0.05); border: 1px solid var(--border); border-radius: 8px; padding: 10px; margin-bottom: 8px; cursor: pointer; font-size: 0.9em;" onclick="enviarPreguntaSugerida(this)">
                                Resume los datos principales del genoma
                            </div>
                        </div>
                    </div>
                    
                    <div class="chat-main-panel">
                        <div style="background: linear-gradient(135deg, rgba(0, 240, 255, 0.1), transparent); border-bottom: 2px solid var(--border); padding: 20px 25px;">
                            <h2 style="color: var(--primary); margin: 0;">
                                <i class="fas fa-comments"></i> Chat con IA
                            </h2>
                        </div>
                        
                        <div class="chat-messages" id="chatMessages">
                            <div style="text-align: center; padding: 40px 20px; color: #999;">
                                <i class="fas fa-robot" style="font-size: 4em; color: var(--primary); opacity: 0.3; margin-bottom: 20px;"></i>
                                <h3 style="color: var(--secondary); margin-bottom: 10px;">隆Hola! Soy tu asistente de an谩lisis gen贸mico</h3>
                                <p>Preg煤ntame sobre E. coli, gen贸mica, o los datos del an谩lisis.</p>
                            </div>
                        </div>
                        
                        <div class="chat-input-container">
                            <div class="chat-input-wrapper">
                                <input 
                                    type="text" 
                                    id="chatInput" 
                                    class="chat-input" 
                                    placeholder="Escribe tu pregunta aqu铆..."
                                    onkeypress="if(event.key === 'Enter') enviarMensaje()"
                                />
                                <button id="chatSendBtn" class="chat-send-btn" onclick="enviarMensaje()">
                                    <i class="fas fa-paper-plane"></i>
                                </button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <div id="diagrama-genomico" class="section">
                <div class="section-title">
                    <i class="fas fa-project-diagram"></i> Diagrama del Genoma
                </div>
                <div class="card" style="padding: 20px; background: var(--bg-card); border-radius: 20px;">
                    <div class="mxgraph-container" style="width: 100%; height: 900px; min-height: 600px;">
                        <div class="mxgraph" style="max-width:100%;border:1px solid transparent;" data-mxgraph="{&quot;highlight&quot;:&quot;#0000ff&quot;,&quot;nav&quot;:true,&quot;resize&quot;:true,&quot;dark-mode&quot;:&quot;auto&quot;,&quot;toolbar&quot;:&quot;zoom layers tags lightbox&quot;,&quot;edit&quot;:&quot;_blank&quot;,&quot;xml&quot;:&quot;&lt;mxfile host=\&quot;app.diagrams.net\&quot; agent=\&quot;Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/142.0.0.0 Safari/537.36 OPR/126.0.0.0\&quot; version=\&quot;29.3.7\&quot;&gt;\n  &lt;diagram name=\&quot;P谩gina-1\&quot; id=\&quot;K_9_WGEMNg_ffG-d1WFP\&quot;&gt;\n    &lt;mxGraphModel dx=\&quot;1813\&quot; dy=\&quot;985\&quot; grid=\&quot;1\&quot; gridSize=\&quot;10\&quot; guides=\&quot;1\&quot; tooltips=\&quot;1\&quot; connect=\&quot;1\&quot; arrows=\&quot;1\&quot; fold=\&quot;1\&quot; page=\&quot;1\&quot; pageScale=\&quot;1\&quot; pageWidth=\&quot;827\&quot; pageHeight=\&quot;1169\&quot; math=\&quot;0\&quot; shadow=\&quot;0\&quot;&gt;\n      &lt;root&gt;\n        &lt;mxCell id=\&quot;0\&quot; /&gt;\n        &lt;mxCell id=\&quot;1\&quot; parent=\&quot;0\&quot; /&gt;\n        &lt;mxCell id=\&quot;ZrfB_EpvOdFak8gvY_mV-145\&quot; parent=\&quot;1\&quot; style=\&quot;whiteSpace=wrap;strokeWidth=2;\&quot; value=\&quot;C茅lula\&quot; vertex=\&quot;1\&quot;&gt;\n          &lt;mxGeometry height=\&quot;54\&quot; width=\&quot;105\&quot; x=\&quot;1127\&quot; y=\&quot;160\&quot; as=\&quot;geometry\&quot; /&gt;\n        &lt;/mxCell&gt;\n        &lt;mxCell id=\&quot;ZrfB_EpvOdFak8gvY_mV-146\&quot; parent=\&quot;1\&quot; style=\&quot;whiteSpace=wrap;strokeWidth=2;\&quot; value=\&quot;Teor铆a celular\&quot; vertex=\&quot;1\&quot;&gt;\n          &lt;mxGeometry height=\&quot;54\&quot; width=\&quot;100\&quot; x=\&quot;1067\&quot; y=\&quot;52\&quot; as=\&quot;geometry\&quot; /&gt;\n        &lt;/mxCell&gt;\n        &lt;mxCell id=\&quot;ZrfB_EpvOdFak8gvY_mV-147\&quot; parent=\&quot;1\&quot; style=\&quot;whiteSpace=wrap;strokeWidth=2;\&quot; value=\&quot;Ciclo de vida celular\&quot; vertex=\&quot;1\&quot;&gt;\n          &lt;mxGeometry height=\&quot;54\&quot; width=\&quot;132\&quot; x=\&quot;887\&quot; y=\&quot;32\&quot; as=\&quot;geometry\&quot; /&gt;\n        &lt;/mxCell&gt;\n        &lt;mxCell id=\&quot;ZrfB_EpvOdFak8gvY_mV-148\&quot; parent=\&quot;1\&quot; style=\&quot;whiteSpace=wrap;strokeWidth=2;\&quot; value=\&quot;V铆a metab贸lica\&quot; vertex=\&quot;1\&quot;&gt;\n          &lt;mxGeometry height=\&quot;54\&quot; width=\&quot;167\&quot; x=\&quot;673.5\&quot; y=\&quot;60\&quot; as=\&quot;geometry\&quot; /&gt;\n        &lt;/mxCell&gt;\n        &lt;mxCell id=\&quot;ZrfB_EpvOdFak8gvY_mV-149\&quot; parent=\&quot;1\&quot; style=\&quot;whiteSpace=wrap;strokeWidth=2;\&quot; value=\&quot;C茅lula eucariota\&quot; vertex=\&quot;1\&quot;&gt;\n          &lt;mxGeometry height=\&quot;54\&quot; width=\&quot;178\&quot; x=\&quot;567\&quot; y=\&quot;150\&quot; as=\&quot;geometry\&quot; /&gt;\n        &lt;/mxCell&gt;\n        &lt;mxCell id=\&quot;ZrfB_EpvOdFak8gvY_mV-150\&quot; parent=\&quot;1\&quot; style=\&quot;whiteSpace=wrap;strokeWidth=2;\&quot; value=\&quot;C茅lula procariota\&quot; vertex=\&quot;1\&quot;&gt;\n          &lt;mxGeometry height=\&quot;54\&quot; width=\&quot;184\&quot; x=\&quot;784\&quot; y=\&quot;190\&quot; as=\&quot;geometry\&quot; /&gt;\n        &lt;/mxCell&gt;\n        &lt;mxCell id=\&quot;ZrfB_EpvOdFak8gvY_mV-151\&quot; parent=\&quot;1\&quot; style=\&quot;whiteSpace=wrap;strokeWidth=2;\&quot; value=\&quot;ADN\&quot; vertex=\&quot;1\&quot;&gt;\n          &lt;mxGeometry height=\&quot;54\&quot; width=\&quot;89\&quot; x=\&quot;1578.75\&quot; y=\&quot;540\&quot; as=\&quot;geometry\&quot; /&gt;\n        &lt;/mxCell&gt;\n        &lt;mxCell id=\&quot;ZrfB_EpvOdFak8gvY_mV-152\&quot; parent=\&quot;1\&quot; style=\&quot;whiteSpace=wrap;strokeWidth=2;\&quot; value=\&quot;Cromosoma\&quot; vertex=\&quot;1\&quot;&gt;\n          &lt;mxGeometry height=\&quot;54\&quot; width=\&quot;143\&quot; x=\&quot;984\&quot; y=\&quot;283\&quot; as=\&quot;geometry\&quot; /&gt;\n        &lt;/mxCell&gt;\n        &lt;mxCell id=\&quot;ZrfB_EpvOdFak8gvY_mV-153\&quot; parent=\&quot;1\&quot; style=\&quot;whiteSpace=wrap;strokeWidth=2;\&quot; value=\&quot;Gen\&quot; vertex=\&quot;1\&quot;&gt;\n          &lt;mxGeometry height=\&quot;54\&quot; width=\&quot;80\&quot; x=\&quot;924.5\&quot; y=\&quot;369\&quot; as=\&quot;geometry\&quot; /&gt;\n        &lt;/mxCell&gt;\n        &lt;mxCell id=\&quot;ZrfB_EpvOdFak8gvY_mV-154\&quot; parent=\&quot;1\&quot; style=\&quot;whiteSpace=wrap;strokeWidth=2;\&quot; value=\&quot;Herencia mendeliana\&quot; vertex=\&quot;1\&quot;&gt;\n          &lt;mxGeometry height=\&quot;54\&quot; width=\&quot;131\&quot; x=\&quot;703\&quot; y=\&quot;423\&quot; as=\&quot;geometry\&quot; /&gt;\n        &lt;/mxCell&gt;\n        &lt;mxCell id=\&quot;ZrfB_EpvOdFak8gvY_mV-155\&quot; parent=\&quot;1\&quot; style=\&quot;whiteSpace=wrap;strokeWidth=2;\&quot; value=\&quot;Mutaci贸n\&quot; vertex=\&quot;1\&quot;&gt;\n          &lt;mxGeometry height=\&quot;54\&quot; width=\&quot;75\&quot; x=\&quot;793\&quot; y=\&quot;509\&quot; as=\&quot;geometry\&quot; /&gt;\n        &lt;/mxCell&gt;\n        &lt;mxCell id=\&quot;ZrfB_EpvOdFak8gvY_mV-156\&quot; parent=\&quot;1\&quot; style=\&quot;whiteSpace=wrap;strokeWidth=2;\&quot; value=\&quot;Ligamiento gen茅tico\&quot; vertex=\&quot;1\&quot;&gt;\n          &lt;mxGeometry height=\&quot;54\&quot; width=\&quot;113\&quot; x=\&quot;1036\&quot; y=\&quot;395\&quot; as=\&quot;geometry\&quot; /&gt;\n        &lt;/mxCell&gt;\n        &lt;mxCell id=\&quot;ZrfB_EpvOdFak8gvY_mV-157\&quot; parent=\&quot;1\&quot; style=\&quot;whiteSpace=wrap;strokeWidth=2;\&quot; value=\&quot;Mapa gen茅tico\&quot; vertex=\&quot;1\&quot;&gt;\n          &lt;mxGeometry height=\&quot;54\&quot; width=\&quot;164\&quot; x=\&quot;990\&quot; y=\&quot;509\&quot; as=\&quot;geometry\&quot; /&gt;\n        &lt;/mxCell&gt;\n        &lt;mxCell id=\&quot;ZrfB_EpvOdFak8gvY_mV-158\&quot; parent=\&quot;1\&quot; style=\&quot;whiteSpace=wrap;strokeWidth=2;\&quot; value=\&quot;Nucle贸tido\&quot; vertex=\&quot;1\&quot;&gt;\n          &lt;mxGeometry height=\&quot;54\&quot; width=\&quot;101\&quot; x=\&quot;1372\&quot; y=\&quot;215.5\&quot; as=\&quot;geometry\&quot; /&gt;\n        &lt;/mxCell&gt;\n        &lt;mxCell id=\&quot;ZrfB_EpvOdFak8gvY_mV-159\&quot; parent=\&quot;1\&quot; style=\&quot;whiteSpace=wrap;strokeWidth=2;\&quot; value=\&quot;Bases nitrogenadas\&quot; vertex=\&quot;1\&quot;&gt;\n          &lt;mxGeometry height=\&quot;54\&quot; width=\&quot;160\&quot; x=\&quot;1342.5\&quot; y=\&quot;85.5\&quot; as=\&quot;geometry\&quot; /&gt;\n        &lt;/mxCell&gt;\n        &lt;mxCell id=\&quot;ZrfB_EpvOdFak8gvY_mV-160\&quot; parent=\&quot;1\&quot; style=\&quot;whiteSpace=wrap;strokeWidth=2;\&quot; value=\&quot;Regla de Chargaff\&quot; vertex=\&quot;1\&quot;&gt;\n          &lt;mxGeometry height=\&quot;54\&quot; width=\&quot;123\&quot; x=\&quot;1513\&quot; y=\&quot;215.5\&quot; as=\&quot;geometry\&quot; /&gt;\n        &lt;/mxCell&gt;\n        &lt;mxCell id=\&quot;ZrfB_EpvOdFak8gvY_mV-161\&quot; parent=\&quot;1\&quot; style=\&quot;whiteSpace=wrap;strokeWidth=2;\&quot; value=\&quot;Doble h茅lice\&quot; vertex=\&quot;1\&quot;&gt;\n          &lt;mxGeometry height=\&quot;54\&quot; width=\&quot;96\&quot; x=\&quot;1668\&quot; y=\&quot;215.5\&quot; as=\&quot;geometry\&quot; /&gt;\n        &lt;/mxCell&gt;\n        &lt;mxCell id=\&quot;ZrfB_EpvOdFak8gvY_mV-162\&quot; parent=\&quot;1\&quot; style=\&quot;whiteSpace=wrap;strokeWidth=2;\&quot; value=\&quot;Complementariedad de bases\&quot; vertex=\&quot;1\&quot;&gt;\n          &lt;mxGeometry height=\&quot;56\&quot; width=\&quot;192\&quot; x=\&quot;1620\&quot; y=\&quot;115.5\&quot; as=\&quot;geometry\&quot; /&gt;\n        &lt;/mxCell&gt;\n        &lt;mxCell id=\&quot;ZrfB_EpvOdFak8gvY_mV-163\&quot; parent=\&quot;1\&quot; style=\&quot;whiteSpace=wrap;strokeWidth=2;\&quot; value=\&quot;Replicaci贸n del ADN\&quot; vertex=\&quot;1\&quot;&gt;\n          &lt;mxGeometry height=\&quot;54\&quot; width=\&quot;202\&quot; x=\&quot;1615\&quot; y=\&quot;5.5\&quot; as=\&quot;geometry\&quot; /&gt;\n        &lt;/mxCell&gt;\n        &lt;mxCell id=\&quot;ZrfB_EpvOdFak8gvY_mV-164\&quot; parent=\&quot;1\&quot; style=\&quot;whiteSpace=wrap;strokeWidth=2;\&quot; value=\&quot;Transcripci贸n\&quot; vertex=\&quot;1\&quot;&gt;\n          &lt;mxGeometry height=\&quot;54\&quot; width=\&quot;155\&quot; x=\&quot;1247\&quot; y=\&quot;501\&quot; as=\&quot;geometry\&quot; /&gt;\n        &lt;/mxCell&gt;\n        &lt;mxCell id=\&quot;ZrfB_EpvOdFak8gvY_mV-165\&quot; parent=\&quot;1\&quot; style=\&quot;whiteSpace=wrap;strokeWidth=2;\&quot; value=\&quot;ARN\&quot; vertex=\&quot;1\&quot;&gt;\n          &lt;mxGeometry height=\&quot;54\&quot; width=\&quot;89\&quot; x=\&quot;1167\&quot; y=\&quot;626\&quot; as=\&quot;geometry\&quot; /&gt;\n        &lt;/mxCell&gt;\n        &lt;mxCell id=\&quot;ZrfB_EpvOdFak8gvY_mV-166\&quot; parent=\&quot;1\&quot; style=\&quot;whiteSpace=wrap;strokeWidth=2;\&quot; value=\&quot;ARN polimerasa\&quot; vertex=\&quot;1\&quot;&gt;\n          &lt;mxGeometry height=\&quot;54\&quot; width=\&quot;172\&quot; x=\&quot;1317\&quot; y=\&quot;626\&quot; as=\&quot;geometry\&quot; /&gt;\n        &lt;/mxCell&gt;\n        &lt;mxCell id=\&quot;ZrfB_EpvOdFak8gvY_mV-167\&quot; parent=\&quot;1\&quot; style=\&quot;whiteSpace=wrap;strokeWidth=2;\&quot; value=\&quot;ARN mensajero\&quot; vertex=\&quot;1\&quot;&gt;\n          &lt;mxGeometry height=\&quot;54\&quot; width=\&quot;169\&quot; x=\&quot;526\&quot; y=\&quot;583.5\&quot; as=\&quot;geometry\&quot; /&gt;\n        &lt;/mxCell&gt;\n        &lt;mxCell id=\&quot;ZrfB_EpvOdFak8gvY_mV-168\&quot; parent=\&quot;1\&quot; style=\&quot;whiteSpace=wrap;strokeWidth=2;\&quot; value=\&quot;Ex贸n\&quot; vertex=\&quot;1\&quot;&gt;\n          &lt;mxGeometry height=\&quot;54\&quot; width=\&quot;94\&quot; x=\&quot;528\&quot; y=\&quot;269.5\&quot; as=\&quot;geometry\&quot; /&gt;\n        &lt;/mxCell&gt;\n        &lt;mxCell id=\&quot;ZrfB_EpvOdFak8gvY_mV-169\&quot; parent=\&quot;1\&quot; style=\&quot;whiteSpace=wrap;strokeWidth=2;\&quot; value=\&quot;Intr贸n\&quot; vertex=\&quot;1\&quot;&gt;\n          &lt;mxGeometry height=\&quot;54\&quot; width=\&quot;103\&quot; x=\&quot;641.5\&quot; y=\&quot;269.5\&quot; as=\&quot;geometry\&quot; /&gt;\n        &lt;/mxCell&gt;\n        &lt;mxCell id=\&quot;ZrfB_EpvOdFak8gvY_mV-170\&quot; parent=\&quot;1\&quot; style=\&quot;whiteSpace=wrap;strokeWidth=2;\&quot; value=\&quot;Splicing\&quot; vertex=\&quot;1\&quot;&gt;\n          &lt;mxGeometry height=\&quot;54\&quot; width=\&quot;115\&quot; x=\&quot;573\&quot; y=\&quot;387.5\&quot; as=\&quot;geometry\&quot; /&gt;\n        &lt;/mxCell&gt;\n        &lt;mxCell id=\&quot;ZrfB_EpvOdFak8gvY_mV-171\&quot; parent=\&quot;1\&quot; style=\&quot;whiteSpace=wrap;strokeWidth=2;\&quot; value=\&quot;Traducci贸n\&quot; vertex=\&quot;1\&quot;&gt;\n          &lt;mxGeometry height=\&quot;54\&quot; width=\&quot;138\&quot; x=\&quot;688\&quot; y=\&quot;683\&quot; as=\&quot;geometry\&quot; /&gt;\n        &lt;/mxCell&gt;\n        &lt;mxCell id=\&quot;ZrfB_EpvOdFak8gvY_mV-172\&quot; parent=\&quot;1\&quot; style=\&quot;whiteSpace=wrap;strokeWidth=2;\&quot; value=\&quot;Ribosoma\&quot; vertex=\&quot;1\&quot;&gt;\n          &lt;mxGeometry height=\&quot;54\&quot; width=\&quot;128\&quot; x=\&quot;450\&quot; y=\&quot;736.5\&quot; as=\&quot;geometry\&quot; /&gt;\n        &lt;/mxCell&gt;\n        &lt;mxCell id=\&quot;ZrfB_EpvOdFak8gvY_mV-173\&quot; parent=\&quot;1\&quot; style=\&quot;whiteSpace=wrap;strokeWidth=2;\&quot; value=\&quot;Prote铆na\&quot; vertex=\&quot;1\&quot;&gt;\n          &lt;mxGeometry height=\&quot;54\&quot; width=\&quot;120\&quot; x=\&quot;633\&quot; y=\&quot;783\&quot; as=\&quot;geometry\&quot; /&gt;\n        &lt;/mxCell&gt;\n        &lt;mxCell id=\&quot;ZrfB_EpvOdFak8gvY_mV-174\&quot; parent=\&quot;1\&quot; style=\&quot;whiteSpace=wrap;strokeWidth=2;\&quot; value=\&quot;Polip茅ptido\&quot; vertex=\&quot;1\&quot;&gt;\n          &lt;mxGeometry height=\&quot;54\&quot; width=\&quot;141\&quot; x=\&quot;473\&quot; y=\&quot;862.5\&quot; as=\&quot;geometry\&quot; /&gt;\n        &lt;/mxCell&gt;\n        &lt;mxCell id=\&quot;ZrfB_EpvOdFak8gvY_mV-175\&quot; parent=\&quot;1\&quot; style=\&quot;whiteSpace=wrap;strokeWidth=2;\&quot; value=\&quot;Amino谩cido\&quot; vertex=\&quot;1\&quot;&gt;\n          &lt;mxGeometry height=\&quot;54\&quot; width=\&quot;143\&quot; x=\&quot;472\&quot; y=\&quot;982.5\&quot; as=\&quot;geometry\&quot; /&gt;\n        &lt;/mxCell&gt;\n        &lt;mxCell id=\&quot;ZrfB_EpvOdFak8gvY_mV-176\&quot; parent=\&quot;1\&quot; style=\&quot;whiteSpace=wrap;strokeWidth=2;\&quot; value=\&quot;Cod贸n\&quot; vertex=\&quot;1\&quot;&gt;\n          &lt;mxGeometry height=\&quot;54\&quot; width=\&quot;104\&quot; x=\&quot;280\&quot; y=\&quot;606.5\&quot; as=\&quot;geometry\&quot; /&gt;\n        &lt;/mxCell&gt;\n        &lt;mxCell id=\&quot;ZrfB_EpvOdFak8gvY_mV-177\&quot; parent=\&quot;1\&quot; style=\&quot;whiteSpace=wrap;strokeWidth=2;\&quot; value=\&quot;C贸digo gen茅tico\&quot; vertex=\&quot;1\&quot;&gt;\n          &lt;mxGeometry height=\&quot;54\&quot; width=\&quot;110\&quot; x=\&quot;125\&quot; y=\&quot;606.5\&quot; as=\&quot;geometry\&quot; /&gt;\n        &lt;/mxCell&gt;\n        &lt;mxCell id=\&quot;ZrfB_EpvOdFak8gvY_mV-178\&quot; parent=\&quot;1\&quot; style=\&quot;whiteSpace=wrap;strokeWidth=2;\&quot; value=\&quot;Degeneraci贸n del c贸digo gen茅tico\&quot; vertex=\&quot;1\&quot;&gt;\n          &lt;mxGeometry height=\&quot;78\&quot; width=\&quot;123\&quot; x=\&quot;20\&quot; y=\&quot;696.5\&quot; as=\&quot;geometry\&quot; /&gt;\n        &lt;/mxCell&gt;\n        &lt;mxCell id=\&quot;ZrfB_EpvOdFak8gvY_mV-179\&quot; parent=\&quot;1\&quot; style=\&quot;whiteSpace=wrap;strokeWidth=2;\&quot; value=\&quot;Cod贸n de inicio\&quot; vertex=\&quot;1\&quot;&gt;\n          &lt;mxGeometry height=\&quot;54\&quot; width=\&quot;115\&quot; x=\&quot;274.5\&quot; y=\&quot;719.5\&quot; as=\&quot;geometry\&quot; /&gt;\n        &lt;/mxCell&gt;\n        &lt;mxCell id=\&quot;ZrfB_EpvOdFak8gvY_mV-180\&quot; parent=\&quot;1\&quot; style=\&quot;whiteSpace=wrap;strokeWidth=2;\&quot; value=\&quot;Cod贸n de terminaci贸n\&quot; vertex=\&quot;1\&quot;&gt;\n          &lt;mxGeometry height=\&quot;54\&quot; width=\&quot;160\&quot; x=\&quot;280\&quot; y=\&quot;473.5\&quot; as=\&quot;geometry\&quot; /&gt;\n        &lt;/mxCell&gt;\n        &lt;mxCell id=\&quot;ZrfB_EpvOdFak8gvY_mV-181\&quot; parent=\&quot;1\&quot; style=\&quot;whiteSpace=wrap;strokeWidth=2;\&quot; value=\&quot;ARN de transferencia\&quot; vertex=\&quot;1\&quot;&gt;\n          &lt;mxGeometry height=\&quot;54\&quot; width=\&quot;120\&quot; x=\&quot;884.5\&quot; y=\&quot;700\&quot; as=\&quot;geometry\&quot; /&gt;\n        &lt;/mxCell&gt;\n        &lt;mxCell id=\&quot;ZrfB_EpvOdFak8gvY_mV-182\&quot; parent=\&quot;1\&quot; style=\&quot;whiteSpace=wrap;strokeWidth=2;\&quot; value=\&quot;Anticod贸n\&quot; vertex=\&quot;1\&quot;&gt;\n          &lt;mxGeometry height=\&quot;54\&quot; width=\&quot;70\&quot; x=\&quot;1117\&quot; y=\&quot;720\&quot; as=\&quot;geometry\&quot; /&gt;\n        &lt;/mxCell&gt;\n        &lt;mxCell id=\&quot;ZrfB_EpvOdFak8gvY_mV-183\&quot; parent=\&quot;1\&quot; style=\&quot;whiteSpace=wrap;strokeWidth=2;\&quot; value=\&quot;Dogma central\&quot; vertex=\&quot;1\&quot;&gt;\n          &lt;mxGeometry height=\&quot;54\&quot; width=\&quot;164\&quot; x=\&quot;1107\&quot; y=\&quot;850\&quot; as=\&quot;geometry\&quot; /&gt;\n        &lt;/mxCell&gt;\n        &lt;mxCell id=\&quot;ZrfB_EpvOdFak8gvY_mV-184\&quot; parent=\&quot;1\&quot; style=\&quot;whiteSpace=wrap;strokeWidth=2;\&quot; value=\&quot;PCR\&quot; vertex=\&quot;1\&quot;&gt;\n          &lt;mxGeometry height=\&quot;54\&quot; width=\&quot;88\&quot; x=\&quot;1837\&quot; y=\&quot;349\&quot; as=\&quot;geometry\&quot; /&gt;\n        &lt;/mxCell&gt;\n        &lt;mxCell id=\&quot;ZrfB_EpvOdFak8gvY_mV-185\&quot; parent=\&quot;1\&quot; style=\&quot;whiteSpace=wrap;strokeWidth=2;\&quot; value=\&quot;Cebador\&quot; vertex=\&quot;1\&quot;&gt;\n          &lt;mxGeometry height=\&quot;54\&quot; width=\&quot;80.5\&quot; x=\&quot;1844.5\&quot; y=\&quot;150\&quot; as=\&quot;geometry\&quot; /&gt;\n        &lt;/mxCell&gt;\n        &lt;mxCell id=\&quot;ZrfB_EpvOdFak8gvY_mV-186\&quot; parent=\&quot;1\&quot; style=\&quot;whiteSpace=wrap;strokeWidth=2;\&quot; value=\&quot;Desnaturalizaci贸n\&quot; vertex=\&quot;1\&quot;&gt;\n          &lt;mxGeometry height=\&quot;54\&quot; width=\&quot;123\&quot; x=\&quot;1967\&quot; y=\&quot;136\&quot; as=\&quot;geometry\&quot; /&gt;\n        &lt;/mxCell&gt;\n        &lt;mxCell id=\&quot;ZrfB_EpvOdFak8gvY_mV-187\&quot; parent=\&quot;1\&quot; style=\&quot;whiteSpace=wrap;strokeWidth=2;\&quot; value=\&quot;Alineamiento\&quot; vertex=\&quot;1\&quot;&gt;\n          &lt;mxGeometry height=\&quot;54\&quot; width=\&quot;103\&quot; x=\&quot;2107\&quot; y=\&quot;204\&quot; as=\&quot;geometry\&quot; /&gt;\n        &lt;/mxCell&gt;\n        &lt;mxCell id=\&quot;ZrfB_EpvOdFak8gvY_mV-188\&quot; parent=\&quot;1\&quot; style=\&quot;whiteSpace=wrap;strokeWidth=2;\&quot; value=\&quot;Extensi贸n\&quot; vertex=\&quot;1\&quot;&gt;\n          &lt;mxGeometry height=\&quot;54\&quot; width=\&quot;83\&quot; x=\&quot;2097\&quot; y=\&quot;283\&quot; as=\&quot;geometry\&quot; /&gt;\n        &lt;/mxCell&gt;\n        &lt;mxCell id=\&quot;ZrfB_EpvOdFak8gvY_mV-189\&quot; parent=\&quot;1\&quot; style=\&quot;whiteSpace=wrap;strokeWidth=2;\&quot; value=\&quot;Clonaci贸n molecular\&quot; vertex=\&quot;1\&quot;&gt;\n          &lt;mxGeometry height=\&quot;54\&quot; width=\&quot;129.5\&quot; x=\&quot;1887.5\&quot; y=\&quot;455\&quot; as=\&quot;geometry\&quot; /&gt;\n        &lt;/mxCell&gt;\n        &lt;mxCell id=\&quot;ZrfB_EpvOdFak8gvY_mV-190\&quot; parent=\&quot;1\&quot; style=\&quot;whiteSpace=wrap;strokeWidth=2;\&quot; value=\&quot;Vector de clonaci贸n\&quot; vertex=\&quot;1\&quot;&gt;\n          &lt;mxGeometry height=\&quot;54\&quot; width=\&quot;123\&quot; x=\&quot;2067\&quot; y=\&quot;369\&quot; as=\&quot;geometry\&quot; /&gt;\n        &lt;/mxCell&gt;\n        &lt;mxCell id=\&quot;ZrfB_EpvOdFak8gvY_mV-191\&quot; parent=\&quot;1\&quot; style=\&quot;whiteSpace=wrap;strokeWidth=2;\&quot; value=\&quot;Biblioteca de clones\&quot; vertex=\&quot;1\&quot;&gt;\n          &lt;mxGeometry height=\&quot;54\&quot; width=\&quot;130.5\&quot; x=\&quot;2109.5\&quot; y=\&quot;441.5\&quot; as=\&quot;geometry\&quot; /&gt;\n        &lt;/mxCell&gt;\n        &lt;mxCell id=\&quot;ZrfB_EpvOdFak8gvY_mV-192\&quot; parent=\&quot;1\&quot; style=\&quot;whiteSpace=wrap;strokeWidth=2;\&quot; value=\&quot;Enzima de restricci贸n\&quot; vertex=\&quot;1\&quot;&gt;\n          &lt;mxGeometry height=\&quot;54\&quot; width=\&quot;215\&quot; x=\&quot;1666.5\&quot; y=\&quot;708.5\&quot; as=\&quot;geometry\&quot; /&gt;\n        &lt;/mxCell&gt;\n        &lt;mxCell id=\&quot;ZrfB_EpvOdFak8gvY_mV-193\&quot; parent=\&quot;1\&quot; style=\&quot;whiteSpace=wrap;strokeWidth=2;\&quot; value=\&quot;Sitio de reconocimiento\&quot; vertex=\&quot;1\&quot;&gt;\n          &lt;mxGeometry height=\&quot;54\&quot; width=\&quot;145.5\&quot; x=\&quot;1507\&quot; y=\&quot;890\&quot; as=\&quot;geometry\&quot; /&gt;\n        &lt;/mxCell&gt;\n        &lt;mxCell id=\&quot;ZrfB_EpvOdFak8gvY_mV-194\&quot; parent=\&quot;1\&quot; style=\&quot;whiteSpace=wrap;strokeWidth=2;\&quot; value=\&quot;Extremos romos\&quot; vertex=\&quot;1\&quot;&gt;\n          &lt;mxGeometry height=\&quot;54\&quot; width=\&quot;115.5\&quot; x=\&quot;1687\&quot; y=\&quot;890\&quot; as=\&quot;geometry\&quot; /&gt;\n        &lt;/mxCell&gt;\n        &lt;mxCell id=\&quot;ZrfB_EpvOdFak8gvY_mV-195\&quot; parent=\&quot;1\&quot; style=\&quot;whiteSpace=wrap;strokeWidth=2;\&quot; value=\&quot;Extremos pegajosos\&quot; vertex=\&quot;1\&quot;&gt;\n          &lt;mxGeometry height=\&quot;54\&quot; width=\&quot;131.5\&quot; x=\&quot;1835.5\&quot; y=\&quot;890\&quot; as=\&quot;geometry\&quot; /&gt;\n        &lt;/mxCell&gt;\n        &lt;mxCell id=\&quot;ZrfB_EpvOdFak8gvY_mV-196\&quot; parent=\&quot;1\&quot; style=\&quot;whiteSpace=wrap;strokeWidth=2;\&quot; value=\&quot;Hibridaci贸n\&quot; vertex=\&quot;1\&quot;&gt;\n          &lt;mxGeometry height=\&quot;54\&quot; width=\&quot;142\&quot; x=\&quot;1745.5\&quot; y=\&quot;994\&quot; as=\&quot;geometry\&quot; /&gt;\n        &lt;/mxCell&gt;\n        &lt;mxCell id=\&quot;ZrfB_EpvOdFak8gvY_mV-197\&quot; parent=\&quot;1\&quot; style=\&quot;whiteSpace=wrap;strokeWidth=2;\&quot; value=\&quot;Ligaci贸n\&quot; vertex=\&quot;1\&quot;&gt;\n          &lt;mxGeometry height=\&quot;54\&quot; width=\&quot;119\&quot; x=\&quot;1757\&quot; y=\&quot;1090\&quot; as=\&quot;geometry\&quot; /&gt;\n        &lt;/mxCell&gt;\n        &lt;mxCell id=\&quot;ZrfB_EpvOdFak8gvY_mV-198\&quot; parent=\&quot;1\&quot; style=\&quot;whiteSpace=wrap;strokeWidth=2;\&quot; value=\&quot;Electroforesis en gel\&quot; vertex=\&quot;1\&quot;&gt;\n          &lt;mxGeometry height=\&quot;54\&quot; width=\&quot;150\&quot; x=\&quot;1959.5\&quot; y=\&quot;970\&quot; as=\&quot;geometry\&quot; /&gt;\n        &lt;/mxCell&gt;\n        &lt;mxCell id=\&quot;ZrfB_EpvOdFak8gvY_mV-199\&quot; parent=\&quot;1\&quot; style=\&quot;whiteSpace=wrap;strokeWidth=2;\&quot; value=\&quot;Sonda\&quot; vertex=\&quot;1\&quot;&gt;\n          &lt;mxGeometry height=\&quot;54\&quot; width=\&quot;102\&quot; x=\&quot;2047\&quot; y=\&quot;696.5\&quot; as=\&quot;geometry\&quot; /&gt;\n        &lt;/mxCell&gt;\n        &lt;mxCell id=\&quot;ZrfB_EpvOdFak8gvY_mV-200\&quot; parent=\&quot;1\&quot; style=\&quot;whiteSpace=wrap;strokeWidth=2;\&quot; value=\&quot;Microarreglo\&quot; vertex=\&quot;1\&quot;&gt;\n          &lt;mxGeometry height=\&quot;54\&quot; width=\&quot;110\&quot; x=\&quot;2077\&quot; y=\&quot;808.5\&quot; as=\&quot;geometry\&quot; /&gt;\n        &lt;/mxCell&gt;\n        &lt;mxCell id=\&quot;ZrfB_EpvOdFak8gvY_mV-201\&quot; parent=\&quot;1\&quot; style=\&quot;whiteSpace=wrap;strokeWidth=2;\&quot; value=\&quot;Variaci贸n gen茅tica intraespec铆fica\&quot; vertex=\&quot;1\&quot;&gt;\n          &lt;mxGeometry height=\&quot;78\&quot; width=\&quot;260\&quot; x=\&quot;2053.5\&quot; y=\&quot;546\&quot; as=\&quot;geometry\&quot; /&gt;\n        &lt;/mxCell&gt;\n        &lt;mxCell id=\&quot;ZrfB_EpvOdFak8gvY_mV-202\&quot; parent=\&quot;1\&quot; style=\&quot;whiteSpace=wrap;strokeWidth=2;\&quot; value=\&quot;Genoma de referencia\&quot; vertex=\&quot;1\&quot;&gt;\n          &lt;mxGeometry height=\&quot;54\&quot; width=\&quot;140\&quot; x=\&quot;2197\&quot; y=\&quot;680\&quot; as=\&quot;geometry\&quot; /&gt;\n        &lt;/mxCell&gt;\n        &lt;mxCell id=\&quot;ZrfB_EpvOdFak8gvY_mV-203\&quot; parent=\&quot;1\&quot; style=\&quot;whiteSpace=wrap;strokeWidth=2;\&quot; value=\&quot;Conservaci贸n gen茅tica\&quot; vertex=\&quot;1\&quot;&gt;\n          &lt;mxGeometry height=\&quot;54\&quot; width=\&quot;140\&quot; x=\&quot;2417\&quot; y=\&quot;606.5\&quot; as=\&quot;geometry\&quot; /&gt;\n        &lt;/mxCell&gt;\n        &lt;mxCell id=\&quot;ZrfB_EpvOdFak8gvY_mV-204\&quot; parent=\&quot;1\&quot; style=\&quot;whiteSpace=wrap;strokeWidth=2;\&quot; value=\&quot;Evoluci贸n\&quot; vertex=\&quot;1\&quot;&gt;\n          &lt;mxGeometry height=\&quot;54\&quot; width=\&quot;128\&quot; x=\&quot;2361\&quot; y=\&quot;750.5\&quot; as=\&quot;geometry\&quot; /&gt;\n        &lt;/mxCell&gt;\n        &lt;mxCell id=\&quot;ZrfB_EpvOdFak8gvY_mV-205\&quot; parent=\&quot;1\&quot; style=\&quot;whiteSpace=wrap;strokeWidth=2;\&quot; value=\&quot;Selecci贸n natural\&quot; vertex=\&quot;1\&quot;&gt;\n          &lt;mxGeometry height=\&quot;54\&quot; width=\&quot;184\&quot; x=\&quot;2226\&quot; y=\&quot;878.5\&quot; as=\&quot;geometry\&quot; /&gt;\n        &lt;/mxCell&gt;\n        &lt;mxCell id=\&quot;ZrfB_EpvOdFak8gvY_mV-206\&quot; parent=\&quot;1\&quot; style=\&quot;whiteSpace=wrap;strokeWidth=2;\&quot; value=\&quot;Adaptaci贸n\&quot; vertex=\&quot;1\&quot;&gt;\n          &lt;mxGeometry height=\&quot;54\&quot; width=\&quot;140\&quot; x=\&quot;2248\&quot; y=\&quot;1006.5\&quot; as=\&quot;geometry\&quot; /&gt;\n        &lt;/mxCell&gt;\n        &lt;mxCell id=\&quot;ZrfB_EpvOdFak8gvY_mV-207\&quot; parent=\&quot;1\&quot; style=\&quot;whiteSpace=wrap;strokeWidth=2;\&quot; value=\&quot;Especiaci贸n\&quot; vertex=\&quot;1\&quot;&gt;\n          &lt;mxGeometry height=\&quot;54\&quot; width=\&quot;143\&quot; x=\&quot;2460\&quot; y=\&quot;878.5\&quot; as=\&quot;geometry\&quot; /&gt;\n        &lt;/mxCell&gt;\n        &lt;mxCell id=\&quot;ZrfB_EpvOdFak8gvY_mV-208\&quot; parent=\&quot;1\&quot; style=\&quot;whiteSpace=wrap;strokeWidth=2;\&quot; value=\&quot;Gen贸mica comparativa\&quot; vertex=\&quot;1\&quot;&gt;\n          &lt;mxGeometry height=\&quot;54\&quot; width=\&quot;225\&quot; x=\&quot;2354.5\&quot; y=\&quot;486\&quot; as=\&quot;geometry\&quot; /&gt;\n        &lt;/mxCell&gt;\n        &lt;mxCell id=\&quot;ZrfB_EpvOdFak8gvY_mV-209\&quot; parent=\&quot;1\&quot; style=\&quot;whiteSpace=wrap;strokeWidth=2;\&quot; value=\&quot;Alineamiento de secuencias\&quot; vertex=\&quot;1\&quot;&gt;\n          &lt;mxGeometry height=\&quot;54\&quot; width=\&quot;180\&quot; x=\&quot;2377\&quot; y=\&quot;369\&quot; as=\&quot;geometry\&quot; /&gt;\n        &lt;/mxCell&gt;\n        &lt;mxCell id=\&quot;ZrfB_EpvOdFak8gvY_mV-210\&quot; parent=\&quot;1\&quot; style=\&quot;whiteSpace=wrap;strokeWidth=2;\&quot; value=\&quot;BLAST\&quot; vertex=\&quot;1\&quot;&gt;\n          &lt;mxGeometry height=\&quot;54\&quot; width=\&quot;74\&quot; x=\&quot;2425\&quot; y=\&quot;258\&quot; as=\&quot;geometry\&quot; /&gt;\n        &lt;/mxCell&gt;\n        &lt;mxCell id=\&quot;ZrfB_EpvOdFak8gvY_mV-211\&quot; parent=\&quot;1\&quot; style=\&quot;whiteSpace=wrap;strokeWidth=2;\&quot; value=\&quot;Bioinform谩tica\&quot; vertex=\&quot;1\&quot;&gt;\n          &lt;mxGeometry height=\&quot;54\&quot; width=\&quot;110.5\&quot; x=\&quot;2406.75\&quot; y=\&quot;150\&quot; as=\&quot;geometry\&quot; /&gt;\n        &lt;/mxCell&gt;\n        &lt;mxCell id=\&quot;ZrfB_EpvOdFak8gvY_mV-212\&quot; parent=\&quot;1\&quot; style=\&quot;whiteSpace=wrap;strokeWidth=2;\&quot; value=\&quot;Alfabeto molecular\&quot; vertex=\&quot;1\&quot;&gt;\n          &lt;mxGeometry height=\&quot;54\&quot; width=\&quot;197\&quot; x=\&quot;1090.5\&quot; y=\&quot;940\&quot; as=\&quot;geometry\&quot; /&gt;\n        &lt;/mxCell&gt;\n        &lt;mxCell id=\&quot;ZrfB_EpvOdFak8gvY_mV-213\&quot; edge=\&quot;1\&quot; parent=\&quot;1\&quot; source=\&quot;ZrfB_EpvOdFak8gvY_mV-145\&quot; style=\&quot;curved=1;startArrow=none;endArrow=block;exitX=0.5;exitY=0;entryX=0.75;entryY=1;rounded=0;entryDx=0;entryDy=0;exitDx=0;exitDy=0;\&quot; target=\&quot;ZrfB_EpvOdFak8gvY_mV-146\&quot; value=\&quot;es la base de\&quot;&gt;\n          &lt;mxGeometry relative=\&quot;1\&quot; x=\&quot;-0.2245\&quot; y=\&quot;-6\&quot; as=\&quot;geometry\&quot;&gt;\n            &lt;mxPoint as=\&quot;offset\&quot; /&gt;\n            &lt;Array as=\&quot;points\&quot;&gt;\n              &lt;mxPoint x=\&quot;1150\&quot; y=\&quot;140\&quot; /&gt;\n            &lt;/Array&gt;\n          &lt;/mxGeometry&gt;\n        &lt;/mxCell&gt;\n        &lt;mxCell id=\&quot;ZrfB_EpvOdFak8gvY_mV-214\&quot; edge=\&quot;1\&quot; parent=\&quot;1\&quot; source=\&quot;ZrfB_EpvOdFak8gvY_mV-145\&quot; style=\&quot;curved=1;startArrow=none;endArrow=block;exitX=0.25;exitY=0;entryX=0.75;entryY=1;rounded=0;exitDx=0;exitDy=0;entryDx=0;entryDy=0;\&quot; target=\&quot;ZrfB_EpvOdFak8gvY_mV-147\&quot; value=\&quot;presenta\&quot;&gt;\n          &lt;mxGeometry relative=\&quot;1\&quot; as=\&quot;geometry\&quot;&gt;\n            &lt;Array as=\&quot;points\&quot;&gt;\n              &lt;mxPoint x=\&quot;1050\&quot; y=\&quot;130\&quot; /&gt;\n            &lt;/Array&gt;\n          &lt;/mxGeometry&gt;\n        &lt;/mxCell&gt;\n        &lt;mxCell id=\&quot;ZrfB_EpvOdFak8gvY_mV-215\&quot; edge=\&quot;1\&quot; parent=\&quot;1\&quot; source=\&quot;ZrfB_EpvOdFak8gvY_mV-145\&quot; style=\&quot;curved=1;startArrow=none;endArrow=block;exitX=0;exitY=0.25;entryX=1;entryY=0.75;rounded=0;exitDx=0;exitDy=0;entryDx=0;entryDy=0;\&quot; target=\&quot;ZrfB_EpvOdFak8gvY_mV-148\&quot; value=\&quot;realiza\&quot;&gt;\n          &lt;mxGeometry relative=\&quot;1\&quot; as=\&quot;geometry\&quot;&gt;\n            &lt;Array as=\&quot;points\&quot;&gt;\n              &lt;mxPoint x=\&quot;980\&quot; y=\&quot;120\&quot; /&gt;\n            &lt;/Array&gt;\n          &lt;/mxGeometry&gt;\n        &lt;/mxCell&gt;\n        &lt;mxCell id=\&quot;ZrfB_EpvOdFak8gvY_mV-216\&quot; edge=\&quot;1\&quot; parent=\&quot;1\&quot; source=\&quot;ZrfB_EpvOdFak8gvY_mV-145\&quot; style=\&quot;curved=1;startArrow=none;endArrow=block;entryX=1;entryY=0.5;rounded=0;entryDx=0;entryDy=0;exitX=0;exitY=0.5;exitDx=0;exitDy=0;\&quot; target=\&quot;ZrfB_EpvOdFak8gvY_mV-149\&quot; value=\&quot;puede ser\&quot;&gt;\n          &lt;mxGeometry relative=\&quot;1\&quot; x=\&quot;0.0891\&quot; y=\&quot;28\&quot; as=\&quot;geometry\&quot;&gt;\n            &lt;mxPoint as=\&quot;offset\&quot; /&gt;\n            &lt;Array as=\&quot;points\&quot;&gt;\n              &lt;mxPoint x=\&quot;887\&quot; y=\&quot;140\&quot; /&gt;\n            &lt;/Array&gt;\n            &lt;mxPoint x=\&quot;1127\&quot; y=\&quot;187\&quot; as=\&quot;sourcePoint\&quot; /&gt;\n          &lt;/mxGeometry&gt;\n        &lt;/mxCell&gt;\n        &lt;mxCell id=\&quot;ZrfB_EpvOdFak8gvY_mV-217\&quot; edge=\&quot;1\&quot; parent=\&quot;1\&quot; source=\&quot;ZrfB_EpvOdFak8gvY_mV-145\&quot; style=\&quot;curved=1;startArrow=none;endArrow=block;exitX=0;exitY=0.75;entryX=1;entryY=0.5;rounded=0;exitDx=0;exitDy=0;entryDx=0;entryDy=0;\&quot; target=\&quot;ZrfB_EpvOdFak8gvY_mV-150\&quot; value=\&quot;puede ser\&quot;&gt;\n          &lt;mxGeometry relative=\&quot;1\&quot; x=\&quot;-0.0147\&quot; y=\&quot;-12\&quot; as=\&quot;geometry\&quot;&gt;\n            &lt;mxPoint as=\&quot;offset\&quot; /&gt;\n            &lt;Array as=\&quot;points\&quot;&gt;\n              &lt;mxPoint x=\&quot;1077\&quot; y=\&quot;200\&quot; /&gt;\n            &lt;/Array&gt;\n          &lt;/mxGeometry&gt;\n        &lt;/mxCell&gt;\n        &lt;mxCell id=\&quot;ZrfB_EpvOdFak8gvY_mV-218\&quot; edge=\&quot;1\&quot; parent=\&quot;1\&quot; source=\&quot;ZrfB_EpvOdFak8gvY_mV-145\&quot; style=\&quot;curved=1;startArrow=none;endArrow=block;exitX=1;exitY=0.53;rounded=0;entryX=0;entryY=0.25;entryDx=0;entryDy=0;\&quot; target=\&quot;ZrfB_EpvOdFak8gvY_mV-151\&quot; value=\&quot;contiene\&quot;&gt;\n          &lt;mxGeometry relative=\&quot;1\&quot; x=\&quot;-0.0809\&quot; y=\&quot;-56\&quot; as=\&quot;geometry\&quot;&gt;\n            &lt;mxPoint as=\&quot;offset\&quot; /&gt;\n            &lt;Array as=\&quot;points\&quot;&gt;\n              &lt;mxPoint x=\&quot;1410\&quot; y=\&quot;300\&quot; /&gt;\n            &lt;/Array&gt;\n            &lt;mxPoint x=\&quot;1787\&quot; y=\&quot;500\&quot; as=\&quot;targetPoint\&quot; /&gt;\n          &lt;/mxGeometry&gt;\n        &lt;/mxCell&gt;\n        &lt;mxCell id=\&quot;ZrfB_EpvOdFak8gvY_mV-219\&quot; edge=\&quot;1\&quot; parent=\&quot;1\&quot; source=\&quot;ZrfB_EpvOdFak8gvY_mV-151\&quot; style=\&quot;curved=1;startArrow=none;endArrow=block;exitX=0;exitY=0.53;entryX=1;entryY=0.5;rounded=0;entryDx=0;entryDy=0;\&quot; target=\&quot;ZrfB_EpvOdFak8gvY_mV-152\&quot; value=\&quot;se organiza en\&quot;&gt;\n          &lt;mxGeometry relative=\&quot;1\&quot; x=\&quot;0.099\&quot; y=\&quot;52\&quot; as=\&quot;geometry\&quot;&gt;\n            &lt;mxPoint as=\&quot;offset\&quot; /&gt;\n            &lt;Array as=\&quot;points\&quot;&gt;\n              &lt;mxPoint x=\&quot;1320\&quot; y=\&quot;350\&quot; /&gt;\n            &lt;/Array&gt;\n          &lt;/mxGeometry&gt;\n        &lt;/mxCell&gt;\n        &lt;mxCell id=\&quot;ZrfB_EpvOdFak8gvY_mV-220\&quot; edge=\&quot;1\&quot; parent=\&quot;1\&quot; source=\&quot;ZrfB_EpvOdFak8gvY_mV-152\&quot; style=\&quot;curved=1;startArrow=none;endArrow=block;exitX=0.49;exitY=1;entryX=0.5;entryY=0;rounded=0;\&quot; target=\&quot;ZrfB_EpvOdFak8gvY_mV-153\&quot; value=\&quot;contiene\&quot;&gt;\n          &lt;mxGeometry relative=\&quot;1\&quot; as=\&quot;geometry\&quot;&gt;\n            &lt;Array as=\&quot;points\&quot; /&gt;\n          &lt;/mxGeometry&gt;\n        &lt;/mxCell&gt;\n        &lt;mxCell id=\&quot;ZrfB_EpvOdFak8gvY_mV-221\&quot; edge=\&quot;1\&quot; parent=\&quot;1\&quot; source=\&quot;ZrfB_EpvOdFak8gvY_mV-153\&quot; style=\&quot;curved=1;startArrow=none;endArrow=block;exitX=0;exitY=0.5;entryX=0.75;entryY=0;rounded=0;exitDx=0;exitDy=0;entryDx=0;entryDy=0;\&quot; target=\&quot;ZrfB_EpvOdFak8gvY_mV-154\&quot; value=\&quot;explica\&quot;&gt;\n          &lt;mxGeometry relative=\&quot;1\&quot; x=\&quot;0.0634\&quot; y=\&quot;-24\&quot; as=\&quot;geometry\&quot;&gt;\n            &lt;mxPoint as=\&quot;offset\&quot; /&gt;\n            &lt;Array as=\&quot;points\&quot;&gt;\n              &lt;mxPoint x=\&quot;853\&quot; y=\&quot;381\&quot; /&gt;\n            &lt;/Array&gt;\n          &lt;/mxGeometry&gt;\n        &lt;/mxCell&gt;\n        &lt;mxCell id=\&quot;ZrfB_EpvOdFak8gvY_mV-222\&quot; edge=\&quot;1\&quot; parent=\&quot;1\&quot; source=\&quot;ZrfB_EpvOdFak8gvY_mV-153\&quot; style=\&quot;curved=1;startArrow=none;endArrow=block;entryX=1;entryY=0.27;rounded=0;exitX=0.25;exitY=1;exitDx=0;exitDy=0;\&quot; target=\&quot;ZrfB_EpvOdFak8gvY_mV-155\&quot; value=\&quot;puede sufrir\&quot;&gt;\n          &lt;mxGeometry relative=\&quot;1\&quot; x=\&quot;-0.1429\&quot; y=\&quot;9\&quot; as=\&quot;geometry\&quot;&gt;\n            &lt;mxPoint x=\&quot;-1\&quot; as=\&quot;offset\&quot; /&gt;\n            &lt;Array as=\&quot;points\&quot;&gt;\n              &lt;mxPoint x=\&quot;933\&quot; y=\&quot;514\&quot; /&gt;\n            &lt;/Array&gt;\n            &lt;mxPoint x=\&quot;943\&quot; y=\&quot;431\&quot; as=\&quot;sourcePoint\&quot; /&gt;\n          &lt;/mxGeometry&gt;\n        &lt;/mxCell&gt;\n        &lt;mxCell id=\&quot;ZrfB_EpvOdFak8gvY_mV-223\&quot; edge=\&quot;1\&quot; parent=\&quot;1\&quot; source=\&quot;ZrfB_EpvOdFak8gvY_mV-152\&quot; style=\&quot;curved=1;startArrow=none;endArrow=block;exitX=0.629;exitY=1.037;entryX=0.566;entryY=0;rounded=0;exitDx=0;exitDy=0;exitPerimeter=0;entryDx=0;entryDy=0;entryPerimeter=0;\&quot; target=\&quot;ZrfB_EpvOdFak8gvY_mV-156\&quot; value=\&quot;presenta\&quot;&gt;\n          &lt;mxGeometry relative=\&quot;1\&quot; as=\&quot;geometry\&quot;&gt;\n            &lt;Array as=\&quot;points\&quot;&gt;\n              &lt;mxPoint x=\&quot;1100\&quot; y=\&quot;360\&quot; /&gt;\n            &lt;/Array&gt;\n          &lt;/mxGeometry&gt;\n        &lt;/mxCell&gt;\n        &lt;mxCell id=\&quot;ZrfB_EpvOdFak8gvY_mV-224\&quot; edge=\&quot;1\&quot; parent=\&quot;1\&quot; source=\&quot;ZrfB_EpvOdFak8gvY_mV-156\&quot; style=\&quot;curved=1;startArrow=none;endArrow=block;entryX=0.5;entryY=0;rounded=0;entryDx=0;entryDy=0;exitX=0.576;exitY=1.033;exitDx=0;exitDy=0;exitPerimeter=0;\&quot; target=\&quot;ZrfB_EpvOdFak8gvY_mV-157\&quot; value=\&quot;permite construir\&quot;&gt;\n          &lt;mxGeometry relative=\&quot;1\&quot; as=\&quot;geometry\&quot;&gt;\n            &lt;Array as=\&quot;points\&quot;&gt;\n              &lt;mxPoint x=\&quot;1100\&quot; y=\&quot;485\&quot; /&gt;\n            &lt;/Array&gt;\n            &lt;mxPoint x=\&quot;1111\&quot; y=\&quot;455\&quot; as=\&quot;sourcePoint\&quot; /&gt;\n          &lt;/mxGeometry&gt;\n        &lt;/mxCell&gt;\n        &lt;mxCell id=\&quot;ZrfB_EpvOdFak8gvY_mV-225\&quot; edge=\&quot;1\&quot; parent=\&quot;1\&quot; source=\&quot;ZrfB_EpvOdFak8gvY_mV-151\&quot; style=\&quot;curved=1;startArrow=none;endArrow=block;exitX=0.25;exitY=0;entryX=1;entryY=1;rounded=0;entryDx=0;entryDy=0;exitDx=0;exitDy=0;\&quot; target=\&quot;ZrfB_EpvOdFak8gvY_mV-158\&quot; value=\&quot;est谩 formado por\&quot;&gt;\n          &lt;mxGeometry relative=\&quot;1\&quot; x=\&quot;0.1731\&quot; y=\&quot;8\&quot; as=\&quot;geometry\&quot;&gt;\n            &lt;mxPoint x=\&quot;-1\&quot; as=\&quot;offset\&quot; /&gt;\n            &lt;Array as=\&quot;points\&quot;&gt;\n              &lt;mxPoint x=\&quot;1530\&quot; y=\&quot;330\&quot; /&gt;\n            &lt;/Array&gt;\n          &lt;/mxGeometry&gt;\n        &lt;/mxCell&gt;\n        &lt;mxCell id=\&quot;ZrfB_EpvOdFak8gvY_mV-226\&quot; edge=\&quot;1\&quot; parent=\&quot;1\&quot; style=\&quot;curved=1;startArrow=none;endArrow=block;rounded=0;entryX=0.5;entryY=1;entryDx=0;entryDy=0;\&quot; target=\&quot;ZrfB_EpvOdFak8gvY_mV-159\&quot; value=\&quot;incluye\&quot;&gt;\n          &lt;mxGeometry relative=\&quot;1\&quot; as=\&quot;geometry\&quot;&gt;\n            &lt;Array as=\&quot;points\&quot; /&gt;\n            &lt;mxPoint x=\&quot;1422.25\&quot; y=\&quot;215.5\&quot; as=\&quot;sourcePoint\&quot; /&gt;\n            &lt;mxPoint x=\&quot;1416.25\&quot; y=\&quot;85.5\&quot; as=\&quot;targetPoint\&quot; /&gt;\n          &lt;/mxGeometry&gt;\n        &lt;/mxCell&gt;\n        &lt;mxCell id=\&quot;ZrfB_EpvOdFak8gvY_mV-227\&quot; edge=\&quot;1\&quot; parent=\&quot;1\&quot; source=\&quot;ZrfB_EpvOdFak8gvY_mV-151\&quot; style=\&quot;curved=1;startArrow=none;endArrow=block;exitX=0.5;exitY=0;entryX=0.614;entryY=0.986;rounded=0;entryDx=0;entryDy=0;exitDx=0;exitDy=0;entryPerimeter=0;\&quot; target=\&quot;ZrfB_EpvOdFak8gvY_mV-160\&quot; value=\&quot;obedece\&quot;&gt;\n          &lt;mxGeometry relative=\&quot;1\&quot; x=\&quot;0.0684\&quot; y=\&quot;9\&quot; as=\&quot;geometry\&quot;&gt;\n            &lt;mxPoint as=\&quot;offset\&quot; /&gt;\n            &lt;Array as=\&quot;points\&quot;&gt;\n              &lt;mxPoint x=\&quot;1630\&quot; y=\&quot;360\&quot; /&gt;\n            &lt;/Array&gt;\n          &lt;/mxGeometry&gt;\n        &lt;/mxCell&gt;\n        &lt;mxCell id=\&quot;ZrfB_EpvOdFak8gvY_mV-228\&quot; edge=\&quot;1\&quot; parent=\&quot;1\&quot; source=\&quot;ZrfB_EpvOdFak8gvY_mV-151\&quot; style=\&quot;curved=1;startArrow=none;endArrow=block;exitX=0.75;exitY=0;entryX=0.5;entryY=1;rounded=0;entryDx=0;entryDy=0;exitDx=0;exitDy=0;\&quot; target=\&quot;ZrfB_EpvOdFak8gvY_mV-161\&quot; value=\&quot;adopta estructura de\&quot;&gt;\n          &lt;mxGeometry relative=\&quot;1\&quot; x=\&quot;-0.03\&quot; y=\&quot;7\&quot; as=\&quot;geometry\&quot;&gt;\n            &lt;mxPoint as=\&quot;offset\&quot; /&gt;\n            &lt;Array as=\&quot;points\&quot;&gt;\n              &lt;mxPoint x=\&quot;1716\&quot; y=\&quot;370\&quot; /&gt;\n            &lt;/Array&gt;\n          &lt;/mxGeometry&gt;\n        &lt;/mxCell&gt;\n        &lt;mxCell id=\&quot;ZrfB_EpvOdFak8gvY_mV-229\&quot; edge=\&quot;1\&quot; parent=\&quot;1\&quot; source=\&quot;ZrfB_EpvOdFak8gvY_mV-161\&quot; style=\&quot;curved=1;startArrow=none;endArrow=block;exitX=0.5;exitY=0;rounded=0;exitDx=0;exitDy=0;entryX=0.5;entryY=1;entryDx=0;entryDy=0;\&quot; target=\&quot;ZrfB_EpvOdFak8gvY_mV-162\&quot; value=\&quot;se basa en\&quot;&gt;\n          &lt;mxGeometry relative=\&quot;1\&quot; as=\&quot;geometry\&quot;&gt;\n            &lt;Array as=\&quot;points\&quot; /&gt;\n            &lt;mxPoint x=\&quot;1716.25\&quot; y=\&quot;165.5\&quot; as=\&quot;targetPoint\&quot; /&gt;\n          &lt;/mxGeometry&gt;\n        &lt;/mxCell&gt;\n        &lt;mxCell id=\&quot;ZrfB_EpvOdFak8gvY_mV-230\&quot; edge=\&quot;1\&quot; parent=\&quot;1\&quot; source=\&quot;ZrfB_EpvOdFak8gvY_mV-162\&quot; style=\&quot;curved=1;startArrow=none;endArrow=block;exitX=0.5;exitY=0;rounded=0;entryX=0.5;entryY=1;entryDx=0;entryDy=0;exitDx=0;exitDy=0;\&quot; target=\&quot;ZrfB_EpvOdFak8gvY_mV-163\&quot; value=\&quot;permite\&quot;&gt;\n          &lt;mxGeometry relative=\&quot;1\&quot; as=\&quot;geometry\&quot;&gt;\n            &lt;Array as=\&quot;points\&quot; /&gt;\n            &lt;mxPoint x=\&quot;1713\&quot; y=\&quot;419.5\&quot; as=\&quot;targetPoint\&quot; /&gt;\n          &lt;/mxGeometry&gt;\n        &lt;/mxCell&gt;\n        &lt;mxCell id=\&quot;ZrfB_EpvOdFak8gvY_mV-231\&quot; edge=\&quot;1\&quot; parent=\&quot;1\&quot; source=\&quot;ZrfB_EpvOdFak8gvY_mV-151\&quot; style=\&quot;curved=1;startArrow=none;endArrow=block;exitX=0;exitY=0.62;entryX=1;entryY=0.5;rounded=0;entryDx=0;entryDy=0;\&quot; target=\&quot;ZrfB_EpvOdFak8gvY_mV-164\&quot; value=\&quot;sirve como molde en\&quot;&gt;\n          &lt;mxGeometry relative=\&quot;1\&quot; x=\&quot;-0.1007\&quot; y=\&quot;-3\&quot; as=\&quot;geometry\&quot;&gt;\n            &lt;mxPoint as=\&quot;offset\&quot; /&gt;\n            &lt;Array as=\&quot;points\&quot;&gt;\n              &lt;mxPoint x=\&quot;1477\&quot; y=\&quot;560\&quot; /&gt;\n            &lt;/Array&gt;\n          &lt;/mxGeometry&gt;\n        &lt;/mxCell&gt;\n        &lt;mxCell id=\&quot;ZrfB_EpvOdFak8gvY_mV-232\&quot; edge=\&quot;1\&quot; parent=\&quot;1\&quot; source=\&quot;ZrfB_EpvOdFak8gvY_mV-164\&quot; style=\&quot;curved=1;startArrow=none;endArrow=block;exitX=0.064;exitY=0.974;entryX=0.5;entryY=0;rounded=0;exitDx=0;exitDy=0;exitPerimeter=0;\&quot; target=\&quot;ZrfB_EpvOdFak8gvY_mV-165\&quot; value=\&quot;produce\&quot;&gt;\n          &lt;mxGeometry relative=\&quot;1\&quot; x=\&quot;-0.1033\&quot; y=\&quot;10\&quot; as=\&quot;geometry\&quot;&gt;\n            &lt;mxPoint as=\&quot;offset\&quot; /&gt;\n            &lt;Array as=\&quot;points\&quot;&gt;\n              &lt;mxPoint x=\&quot;1211\&quot; y=\&quot;577\&quot; /&gt;\n            &lt;/Array&gt;\n          &lt;/mxGeometry&gt;\n        &lt;/mxCell&gt;\n        &lt;mxCell id=\&quot;ZrfB_EpvOdFak8gvY_mV-233\&quot; edge=\&quot;1\&quot; parent=\&quot;1\&quot; source=\&quot;ZrfB_EpvOdFak8gvY_mV-164\&quot; style=\&quot;curved=1;startArrow=none;endArrow=block;exitX=0.8;exitY=1;entryX=0.5;entryY=0;rounded=0;\&quot; target=\&quot;ZrfB_EpvOdFak8gvY_mV-166\&quot; value=\&quot;es catalizada por\&quot;&gt;\n          &lt;mxGeometry relative=\&quot;1\&quot; x=\&quot;-0.0908\&quot; y=\&quot;-8\&quot; as=\&quot;geometry\&quot;&gt;\n            &lt;mxPoint as=\&quot;offset\&quot; /&gt;\n            &lt;Array as=\&quot;points\&quot;&gt;\n              &lt;mxPoint x=\&quot;1397\&quot; y=\&quot;590\&quot; /&gt;\n            &lt;/Array&gt;\n          &lt;/mxGeometry&gt;\n        &lt;/mxCell&gt;\n        &lt;mxCell id=\&quot;ZrfB_EpvOdFak8gvY_mV-234\&quot; edge=\&quot;1\&quot; parent=\&quot;1\&quot; source=\&quot;ZrfB_EpvOdFak8gvY_mV-165\&quot; style=\&quot;curved=1;startArrow=none;endArrow=block;exitX=0;exitY=0.25;entryX=1;entryY=0.36;rounded=0;exitDx=0;exitDy=0;\&quot; target=\&quot;ZrfB_EpvOdFak8gvY_mV-167\&quot; value=\&quot;puede ser\&quot;&gt;\n          &lt;mxGeometry relative=\&quot;1\&quot; as=\&quot;geometry\&quot;&gt;\n            &lt;Array as=\&quot;points\&quot;&gt;\n              &lt;mxPoint x=\&quot;977\&quot; y=\&quot;630\&quot; /&gt;\n            &lt;/Array&gt;\n          &lt;/mxGeometry&gt;\n        &lt;/mxCell&gt;\n        &lt;mxCell id=\&quot;ZrfB_EpvOdFak8gvY_mV-235\&quot; edge=\&quot;1\&quot; parent=\&quot;1\&quot; source=\&quot;ZrfB_EpvOdFak8gvY_mV-149\&quot; style=\&quot;curved=1;startArrow=none;endArrow=block;exitX=0.35;exitY=1;entryX=0.5;entryY=0;rounded=0;\&quot; target=\&quot;ZrfB_EpvOdFak8gvY_mV-168\&quot; value=\&quot;presenta\&quot;&gt;\n          &lt;mxGeometry relative=\&quot;1\&quot; as=\&quot;geometry\&quot;&gt;\n            &lt;Array as=\&quot;points\&quot;&gt;\n              &lt;mxPoint x=\&quot;590\&quot; y=\&quot;230\&quot; /&gt;\n            &lt;/Array&gt;\n          &lt;/mxGeometry&gt;\n        &lt;/mxCell&gt;\n        &lt;mxCell id=\&quot;ZrfB_EpvOdFak8gvY_mV-236\&quot; edge=\&quot;1\&quot; parent=\&quot;1\&quot; source=\&quot;ZrfB_EpvOdFak8gvY_mV-149\&quot; style=\&quot;curved=1;startArrow=none;endArrow=block;entryX=0.5;entryY=0;rounded=0;exitX=0.5;exitY=1;exitDx=0;exitDy=0;\&quot; target=\&quot;ZrfB_EpvOdFak8gvY_mV-169\&quot; value=\&quot;presenta\&quot;&gt;\n          &lt;mxGeometry relative=\&quot;1\&quot; as=\&quot;geometry\&quot;&gt;\n            &lt;Array as=\&quot;points\&quot;&gt;\n              &lt;mxPoint x=\&quot;690\&quot; y=\&quot;230\&quot; /&gt;\n            &lt;/Array&gt;\n            &lt;mxPoint x=\&quot;663\&quot; y=\&quot;162\&quot; as=\&quot;sourcePoint\&quot; /&gt;\n          &lt;/mxGeometry&gt;\n        &lt;/mxCell&gt;\n        &lt;mxCell id=\&quot;ZrfB_EpvOdFak8gvY_mV-237\&quot; edge=\&quot;1\&quot; parent=\&quot;1\&quot; source=\&quot;ZrfB_EpvOdFak8gvY_mV-149\&quot; style=\&quot;curved=1;startArrow=none;endArrow=block;exitX=0.89;exitY=1;entryX=1;entryY=0.06;rounded=0;\&quot; target=\&quot;ZrfB_EpvOdFak8gvY_mV-170\&quot; value=\&quot;realiza\&quot;&gt;\n          &lt;mxGeometry relative=\&quot;1\&quot; x=\&quot;-0.1502\&quot; y=\&quot;-25\&quot; as=\&quot;geometry\&quot;&gt;\n            &lt;mxPoint x=\&quot;1\&quot; as=\&quot;offset\&quot; /&gt;\n            &lt;Array as=\&quot;points\&quot;&gt;\n              &lt;mxPoint x=\&quot;827\&quot; y=\&quot;300\&quot; /&gt;\n            &lt;/Array&gt;\n          &lt;/mxGeometry&gt;\n        &lt;/mxCell&gt;\n        &lt;mxCell id=\&quot;ZrfB_EpvOdFak8gvY_mV-238\&quot; edge=\&quot;1\&quot; parent=\&quot;1\&quot; source=\&quot;ZrfB_EpvOdFak8gvY_mV-168\&quot; style=\&quot;curved=1;startArrow=none;endArrow=block;exitX=0.5;exitY=1;entryX=0.23;entryY=0;rounded=0;\&quot; target=\&quot;ZrfB_EpvOdFak8gvY_mV-170\&quot; value=\&quot;se conserva en\&quot;&gt;\n          &lt;mxGeometry relative=\&quot;1\&quot; as=\&quot;geometry\&quot;&gt;\n            &lt;Array as=\&quot;points\&quot;&gt;\n              &lt;mxPoint x=\&quot;575\&quot; y=\&quot;338.5\&quot; /&gt;\n            &lt;/Array&gt;\n          &lt;/mxGeometry&gt;\n        &lt;/mxCell&gt;\n        &lt;mxCell id=\&quot;ZrfB_EpvOdFak8gvY_mV-239\&quot; edge=\&quot;1\&quot; parent=\&quot;1\&quot; source=\&quot;ZrfB_EpvOdFak8gvY_mV-169\&quot; style=\&quot;curved=1;startArrow=none;endArrow=block;exitX=0.5;exitY=1;entryX=0.73;entryY=0;rounded=0;\&quot; target=\&quot;ZrfB_EpvOdFak8gvY_mV-170\&quot; value=\&quot;se elimina en\&quot;&gt;\n          &lt;mxGeometry relative=\&quot;1\&quot; as=\&quot;geometry\&quot;&gt;\n            &lt;Array as=\&quot;points\&quot;&gt;\n              &lt;mxPoint x=\&quot;690\&quot; y=\&quot;350\&quot; /&gt;\n            &lt;/Array&gt;\n          &lt;/mxGeometry&gt;\n        &lt;/mxCell&gt;\n        &lt;mxCell id=\&quot;ZrfB_EpvOdFak8gvY_mV-240\&quot; edge=\&quot;1\&quot; parent=\&quot;1\&quot; source=\&quot;ZrfB_EpvOdFak8gvY_mV-170\&quot; style=\&quot;curved=1;startArrow=none;endArrow=block;exitX=0.5;exitY=1;entryX=0.454;entryY=0.004;rounded=0;entryDx=0;entryDy=0;entryPerimeter=0;\&quot; target=\&quot;ZrfB_EpvOdFak8gvY_mV-167\&quot; value=\&quot;genera\&quot;&gt;\n          &lt;mxGeometry relative=\&quot;1\&quot; as=\&quot;geometry\&quot;&gt;\n            &lt;Array as=\&quot;points\&quot;&gt;\n              &lt;mxPoint x=\&quot;618\&quot; y=\&quot;529.5\&quot; /&gt;\n            &lt;/Array&gt;\n          &lt;/mxGeometry&gt;\n        &lt;/mxCell&gt;\n        &lt;mxCell id=\&quot;ZrfB_EpvOdFak8gvY_mV-241\&quot; edge=\&quot;1\&quot; parent=\&quot;1\&quot; source=\&quot;ZrfB_EpvOdFak8gvY_mV-167\&quot; style=\&quot;curved=1;startArrow=none;endArrow=block;entryX=0;entryY=0.5;rounded=0;entryDx=0;entryDy=0;exitX=0.5;exitY=1;exitDx=0;exitDy=0;\&quot; target=\&quot;ZrfB_EpvOdFak8gvY_mV-171\&quot; value=\&quot;es le铆do en\&quot;&gt;\n          &lt;mxGeometry relative=\&quot;1\&quot; as=\&quot;geometry\&quot;&gt;\n            &lt;Array as=\&quot;points\&quot;&gt;\n              &lt;mxPoint x=\&quot;650\&quot; y=\&quot;699.5\&quot; /&gt;\n            &lt;/Array&gt;\n            &lt;mxPoint x=\&quot;522.692\&quot; y=\&quot;682.5219999999999\&quot; as=\&quot;sourcePoint\&quot; /&gt;\n            &lt;mxPoint x=\&quot;731\&quot; y=\&quot;709.5\&quot; as=\&quot;targetPoint\&quot; /&gt;\n          &lt;/mxGeometry&gt;\n        &lt;/mxCell&gt;\n        &lt;mxCell id=\&quot;ZrfB_EpvOdFak8gvY_mV-242\&quot; edge=\&quot;1\&quot; parent=\&quot;1\&quot; source=\&quot;ZrfB_EpvOdFak8gvY_mV-171\&quot; style=\&quot;curved=1;startArrow=none;endArrow=block;exitX=0.11;exitY=1.012;entryX=1;entryY=0.5;rounded=0;entryDx=0;entryDy=0;exitDx=0;exitDy=0;exitPerimeter=0;\&quot; target=\&quot;ZrfB_EpvOdFak8gvY_mV-172\&quot; value=\&quot;ocurre en\&quot;&gt;\n          &lt;mxGeometry relative=\&quot;1\&quot; as=\&quot;geometry\&quot;&gt;\n            &lt;Array as=\&quot;points\&quot;&gt;\n              &lt;mxPoint x=\&quot;660\&quot; y=\&quot;759.5\&quot; /&gt;\n            &lt;/Array&gt;\n            &lt;mxPoint x=\&quot;731\&quot; y=\&quot;723.0000000000005\&quot; as=\&quot;sourcePoint\&quot; /&gt;\n          &lt;/mxGeometry&gt;\n        &lt;/mxCell&gt;\n        &lt;mxCell id=\&quot;ZrfB_EpvOdFak8gvY_mV-243\&quot; edge=\&quot;1\&quot; parent=\&quot;1\&quot; source=\&quot;ZrfB_EpvOdFak8gvY_mV-171\&quot; style=\&quot;curved=1;startArrow=none;endArrow=block;exitX=0.5;exitY=1;entryX=0.5;entryY=0;rounded=0;\&quot; target=\&quot;ZrfB_EpvOdFak8gvY_mV-173\&quot; value=\&quot;produce\&quot;&gt;\n          &lt;mxGeometry relative=\&quot;1\&quot; as=\&quot;geometry\&quot;&gt;\n            &lt;Array as=\&quot;points\&quot; /&gt;\n          &lt;/mxGeometry&gt;\n        &lt;/mxCell&gt;\n        &lt;mxCell id=\&quot;ZrfB_EpvOdFak8gvY_mV-244\&quot; edge=\&quot;1\&quot; parent=\&quot;1\&quot; source=\&quot;ZrfB_EpvOdFak8gvY_mV-173\&quot; style=\&quot;curved=1;startArrow=none;endArrow=block;exitX=0;exitY=0.75;entryX=0.5;entryY=0;rounded=0;exitDx=0;exitDy=0;\&quot; target=\&quot;ZrfB_EpvOdFak8gvY_mV-174\&quot; value=\&quot;est谩 formada por\&quot;&gt;\n          &lt;mxGeometry relative=\&quot;1\&quot; x=\&quot;-0.2437\&quot; y=\&quot;22\&quot; as=\&quot;geometry\&quot;&gt;\n            &lt;mxPoint as=\&quot;offset\&quot; /&gt;\n            &lt;Array as=\&quot;points\&quot;&gt;\n              &lt;mxPoint x=\&quot;569\&quot; y=\&quot;822.5\&quot; /&gt;\n            &lt;/Array&gt;\n            &lt;mxPoint x=\&quot;676\&quot; y=\&quot;818.6800000000003\&quot; as=\&quot;sourcePoint\&quot; /&gt;\n          &lt;/mxGeometry&gt;\n        &lt;/mxCell&gt;\n        &lt;mxCell id=\&quot;ZrfB_EpvOdFak8gvY_mV-245\&quot; edge=\&quot;1\&quot; parent=\&quot;1\&quot; source=\&quot;ZrfB_EpvOdFak8gvY_mV-174\&quot; style=\&quot;curved=1;startArrow=none;endArrow=block;exitX=0.5;exitY=1;entryX=0.5;entryY=0;rounded=0;\&quot; target=\&quot;ZrfB_EpvOdFak8gvY_mV-175\&quot; value=\&quot;se compone de\&quot;&gt;\n          &lt;mxGeometry relative=\&quot;1\&quot; as=\&quot;geometry\&quot;&gt;\n            &lt;Array as=\&quot;points\&quot; /&gt;\n          &lt;/mxGeometry&gt;\n        &lt;/mxCell&gt;\n        &lt;mxCell id=\&quot;ZrfB_EpvOdFak8gvY_mV-246\&quot; edge=\&quot;1\&quot; parent=\&quot;1\&quot; source=\&quot;ZrfB_EpvOdFak8gvY_mV-167\&quot; style=\&quot;curved=1;startArrow=none;endArrow=block;exitX=0;exitY=0.5;entryX=1;entryY=0.5;rounded=0;entryDx=0;entryDy=0;exitDx=0;exitDy=0;\&quot; target=\&quot;ZrfB_EpvOdFak8gvY_mV-176\&quot; value=\&quot;se organiza en\&quot;&gt;\n          &lt;mxGeometry relative=\&quot;1\&quot; as=\&quot;geometry\&quot;&gt;\n            &lt;Array as=\&quot;points\&quot;&gt;\n              &lt;mxPoint x=\&quot;460\&quot; y=\&quot;639.5\&quot; /&gt;\n            &lt;/Array&gt;\n          &lt;/mxGeometry&gt;\n        &lt;/mxCell&gt;\n        &lt;mxCell id=\&quot;ZrfB_EpvOdFak8gvY_mV-247\&quot; edge=\&quot;1\&quot; parent=\&quot;1\&quot; source=\&quot;ZrfB_EpvOdFak8gvY_mV-176\&quot; style=\&quot;curved=1;startArrow=none;endArrow=block;exitX=0.115;exitY=-0.043;entryX=0.5;entryY=0;rounded=0;entryDx=0;entryDy=0;exitDx=0;exitDy=0;exitPerimeter=0;\&quot; target=\&quot;ZrfB_EpvOdFak8gvY_mV-177\&quot; value=\&quot;pertenece al\&quot;&gt;\n          &lt;mxGeometry relative=\&quot;1\&quot; x=\&quot;0.148\&quot; y=\&quot;7\&quot; as=\&quot;geometry\&quot;&gt;\n            &lt;mxPoint as=\&quot;offset\&quot; /&gt;\n            &lt;Array as=\&quot;points\&quot;&gt;\n              &lt;mxPoint x=\&quot;230\&quot; y=\&quot;559.5\&quot; /&gt;\n            &lt;/Array&gt;\n          &lt;/mxGeometry&gt;\n        &lt;/mxCell&gt;\n        &lt;mxCell id=\&quot;ZrfB_EpvOdFak8gvY_mV-248\&quot; edge=\&quot;1\&quot; parent=\&quot;1\&quot; source=\&quot;ZrfB_EpvOdFak8gvY_mV-177\&quot; style=\&quot;curved=1;startArrow=none;endArrow=block;entryX=0.5;entryY=0;rounded=0;entryDx=0;entryDy=0;exitX=0;exitY=0.5;exitDx=0;exitDy=0;\&quot; target=\&quot;ZrfB_EpvOdFak8gvY_mV-178\&quot; value=\&quot;presenta\&quot;&gt;\n          &lt;mxGeometry relative=\&quot;1\&quot; as=\&quot;geometry\&quot;&gt;\n            &lt;Array as=\&quot;points\&quot;&gt;\n              &lt;mxPoint x=\&quot;80\&quot; y=\&quot;679.5\&quot; /&gt;\n            &lt;/Array&gt;\n            &lt;mxPoint x=\&quot;138\&quot; y=\&quot;686.5\&quot; as=\&quot;sourcePoint\&quot; /&gt;\n          &lt;/mxGeometry&gt;\n        &lt;/mxCell&gt;\n        &lt;mxCell id=\&quot;ZrfB_EpvOdFak8gvY_mV-249\&quot; edge=\&quot;1\&quot; parent=\&quot;1\&quot; source=\&quot;ZrfB_EpvOdFak8gvY_mV-176\&quot; style=\&quot;curved=1;startArrow=none;endArrow=block;exitX=0.5;exitY=1;entryX=0.5;entryY=0;rounded=0;\&quot; target=\&quot;ZrfB_EpvOdFak8gvY_mV-179\&quot; value=\&quot;puede ser\&quot;&gt;\n          &lt;mxGeometry relative=\&quot;1\&quot; as=\&quot;geometry\&quot;&gt;\n            &lt;Array as=\&quot;points\&quot; /&gt;\n          &lt;/mxGeometry&gt;\n        &lt;/mxCell&gt;\n        &lt;mxCell id=\&quot;ZrfB_EpvOdFak8gvY_mV-250\&quot; edge=\&quot;1\&quot; parent=\&quot;1\&quot; source=\&quot;ZrfB_EpvOdFak8gvY_mV-176\&quot; style=\&quot;curved=1;startArrow=none;endArrow=block;exitX=0.404;exitY=-0.012;entryX=0.25;entryY=1;rounded=0;entryDx=0;entryDy=0;exitDx=0;exitDy=0;exitPerimeter=0;\&quot; target=\&quot;ZrfB_EpvOdFak8gvY_mV-180\&quot; value=\&quot;puede ser\&quot;&gt;\n          &lt;mxGeometry relative=\&quot;1\&quot; as=\&quot;geometry\&quot;&gt;\n            &lt;Array as=\&quot;points\&quot; /&gt;\n          &lt;/mxGeometry&gt;\n        &lt;/mxCell&gt;\n        &lt;mxCell id=\&quot;ZrfB_EpvOdFak8gvY_mV-251\&quot; edge=\&quot;1\&quot; parent=\&quot;1\&quot; source=\&quot;ZrfB_EpvOdFak8gvY_mV-171\&quot; style=\&quot;curved=1;startArrow=none;endArrow=block;entryX=0;entryY=0.5;rounded=0;entryDx=0;entryDy=0;exitX=1;exitY=0.5;exitDx=0;exitDy=0;\&quot; target=\&quot;ZrfB_EpvOdFak8gvY_mV-181\&quot; value=\&quot;requiere\&quot;&gt;\n          &lt;mxGeometry relative=\&quot;1\&quot; as=\&quot;geometry\&quot;&gt;\n            &lt;Array as=\&quot;points\&quot;&gt;\n              &lt;mxPoint x=\&quot;877\&quot; y=\&quot;730\&quot; /&gt;\n            &lt;/Array&gt;\n            &lt;mxPoint x=\&quot;827\&quot; y=\&quot;700\&quot; as=\&quot;sourcePoint\&quot; /&gt;\n          &lt;/mxGeometry&gt;\n        &lt;/mxCell&gt;\n        &lt;mxCell id=\&quot;ZrfB_EpvOdFak8gvY_mV-252\&quot; edge=\&quot;1\&quot; parent=\&quot;1\&quot; source=\&quot;ZrfB_EpvOdFak8gvY_mV-181\&quot; style=\&quot;curved=1;startArrow=none;endArrow=block;exitX=1;exitY=0.5;entryX=0;entryY=0.5;rounded=0;entryDx=0;entryDy=0;exitDx=0;exitDy=0;\&quot; target=\&quot;ZrfB_EpvOdFak8gvY_mV-182\&quot; value=\&quot;reconoce mediante\&quot;&gt;\n          &lt;mxGeometry relative=\&quot;1\&quot; as=\&quot;geometry\&quot;&gt;\n            &lt;Array as=\&quot;points\&quot; /&gt;\n          &lt;/mxGeometry&gt;\n        &lt;/mxCell&gt;\n        &lt;mxCell id=\&quot;ZrfB_EpvOdFak8gvY_mV-253\&quot; edge=\&quot;1\&quot; parent=\&quot;1\&quot; source=\&quot;ZrfB_EpvOdFak8gvY_mV-151\&quot; style=\&quot;curved=1;startArrow=none;endArrow=block;exitX=0.068;exitY=1.019;entryX=1;entryY=0.39;rounded=0;exitDx=0;exitDy=0;exitPerimeter=0;\&quot; target=\&quot;ZrfB_EpvOdFak8gvY_mV-183\&quot; value=\&quot;fluye hacia\&quot;&gt;\n          &lt;mxGeometry relative=\&quot;1\&quot; x=\&quot;0.0795\&quot; y=\&quot;-42\&quot; as=\&quot;geometry\&quot;&gt;\n            &lt;mxPoint as=\&quot;offset\&quot; /&gt;\n            &lt;Array as=\&quot;points\&quot;&gt;\n              &lt;mxPoint x=\&quot;1507\&quot; y=\&quot;790\&quot; /&gt;\n            &lt;/Array&gt;\n          &lt;/mxGeometry&gt;\n        &lt;/mxCell&gt;\n        &lt;mxCell id=\&quot;ZrfB_EpvOdFak8gvY_mV-254\&quot; edge=\&quot;1\&quot; parent=\&quot;1\&quot; source=\&quot;ZrfB_EpvOdFak8gvY_mV-165\&quot; style=\&quot;curved=1;startArrow=none;endArrow=block;exitX=0.5;exitY=1;entryX=0.609;entryY=-0.023;rounded=0;exitDx=0;exitDy=0;entryDx=0;entryDy=0;entryPerimeter=0;\&quot; target=\&quot;ZrfB_EpvOdFak8gvY_mV-183\&quot; value=\&quot;fluye hacia\&quot;&gt;\n          &lt;mxGeometry relative=\&quot;1\&quot; x=\&quot;-0.1917\&quot; as=\&quot;geometry\&quot;&gt;\n            &lt;mxPoint as=\&quot;offset\&quot; /&gt;\n            &lt;Array as=\&quot;points\&quot;&gt;\n              &lt;mxPoint x=\&quot;1257\&quot; y=\&quot;770\&quot; /&gt;\n            &lt;/Array&gt;\n          &lt;/mxGeometry&gt;\n        &lt;/mxCell&gt;\n        &lt;mxCell id=\&quot;ZrfB_EpvOdFak8gvY_mV-255\&quot; edge=\&quot;1\&quot; parent=\&quot;1\&quot; source=\&quot;ZrfB_EpvOdFak8gvY_mV-173\&quot; style=\&quot;curved=1;startArrow=none;endArrow=block;exitX=1;exitY=0.25;entryX=0;entryY=0.5;rounded=0;entryDx=0;entryDy=0;exitDx=0;exitDy=0;\&quot; target=\&quot;ZrfB_EpvOdFak8gvY_mV-183\&quot; value=\&quot;es el producto final de\&quot;&gt;\n          &lt;mxGeometry relative=\&quot;1\&quot; as=\&quot;geometry\&quot;&gt;\n            &lt;Array as=\&quot;points\&quot;&gt;\n              &lt;mxPoint x=\&quot;977\&quot; y=\&quot;880\&quot; /&gt;\n            &lt;/Array&gt;\n            &lt;mxPoint x=\&quot;1129\&quot; y=\&quot;999.44\&quot; as=\&quot;targetPoint\&quot; /&gt;\n          &lt;/mxGeometry&gt;\n        &lt;/mxCell&gt;\n        &lt;mxCell id=\&quot;ZrfB_EpvOdFak8gvY_mV-256\&quot; edge=\&quot;1\&quot; parent=\&quot;1\&quot; source=\&quot;ZrfB_EpvOdFak8gvY_mV-151\&quot; style=\&quot;curved=1;startArrow=none;endArrow=block;exitX=1;exitY=0;entryX=-0.009;entryY=0.363;rounded=0;exitDx=0;exitDy=0;entryDx=0;entryDy=0;entryPerimeter=0;\&quot; target=\&quot;ZrfB_EpvOdFak8gvY_mV-184\&quot; value=\&quot;puede amplificarse por\&quot;&gt;\n          &lt;mxGeometry relative=\&quot;1\&quot; x=\&quot;0.0988\&quot; y=\&quot;-46\&quot; as=\&quot;geometry\&quot;&gt;\n            &lt;mxPoint x=\&quot;-1\&quot; as=\&quot;offset\&quot; /&gt;\n            &lt;Array as=\&quot;points\&quot;&gt;\n              &lt;mxPoint x=\&quot;1707\&quot; y=\&quot;430\&quot; /&gt;\n            &lt;/Array&gt;\n          &lt;/mxGeometry&gt;\n        &lt;/mxCell&gt;\n        &lt;mxCell id=\&quot;ZrfB_EpvOdFak8gvY_mV-257\&quot; edge=\&quot;1\&quot; parent=\&quot;1\&quot; source=\&quot;ZrfB_EpvOdFak8gvY_mV-184\&quot; style=\&quot;curved=1;startArrow=none;endArrow=block;exitX=0.164;exitY=-0.026;entryX=0.44;entryY=0.985;rounded=0;exitDx=0;exitDy=0;exitPerimeter=0;entryDx=0;entryDy=0;entryPerimeter=0;\&quot; target=\&quot;ZrfB_EpvOdFak8gvY_mV-185\&quot; value=\&quot;utiliza\&quot;&gt;\n          &lt;mxGeometry relative=\&quot;1\&quot; x=\&quot;-0.0377\&quot; y=\&quot;-9\&quot; as=\&quot;geometry\&quot;&gt;\n            &lt;mxPoint as=\&quot;offset\&quot; /&gt;\n            &lt;Array as=\&quot;points\&quot;&gt;\n              &lt;mxPoint x=\&quot;1837\&quot; y=\&quot;280\&quot; /&gt;\n            &lt;/Array&gt;\n          &lt;/mxGeometry&gt;\n        &lt;/mxCell&gt;\n        &lt;mxCell id=\&quot;ZrfB_EpvOdFak8gvY_mV-258\&quot; edge=\&quot;1\&quot; parent=\&quot;1\&quot; source=\&quot;ZrfB_EpvOdFak8gvY_mV-184\&quot; style=\&quot;curved=1;startArrow=none;endArrow=block;exitX=0.445;exitY=-0.041;entryX=0.171;entryY=1;rounded=0;exitDx=0;exitDy=0;exitPerimeter=0;entryDx=0;entryDy=0;entryPerimeter=0;\&quot; target=\&quot;ZrfB_EpvOdFak8gvY_mV-186\&quot; value=\&quot;incluye etapa de\&quot;&gt;\n          &lt;mxGeometry relative=\&quot;1\&quot; x=\&quot;-0.0295\&quot; y=\&quot;-12\&quot; as=\&quot;geometry\&quot;&gt;\n            &lt;mxPoint as=\&quot;offset\&quot; /&gt;\n            &lt;Array as=\&quot;points\&quot;&gt;\n              &lt;mxPoint x=\&quot;1897\&quot; y=\&quot;270\&quot; /&gt;\n            &lt;/Array&gt;\n          &lt;/mxGeometry&gt;\n        &lt;/mxCell&gt;\n        &lt;mxCell id=\&quot;ZrfB_EpvOdFak8gvY_mV-259\&quot; edge=\&quot;1\&quot; parent=\&quot;1\&quot; source=\&quot;ZrfB_EpvOdFak8gvY_mV-184\&quot; style=\&quot;curved=1;startArrow=none;endArrow=block;exitX=0.836;exitY=-0.026;entryX=0;entryY=0.5;rounded=0;exitDx=0;exitDy=0;exitPerimeter=0;entryDx=0;entryDy=0;\&quot; target=\&quot;ZrfB_EpvOdFak8gvY_mV-187\&quot; value=\&quot;incluye etapa de\&quot;&gt;\n          &lt;mxGeometry relative=\&quot;1\&quot; x=\&quot;-0.2597\&quot; y=\&quot;-12\&quot; as=\&quot;geometry\&quot;&gt;\n            &lt;mxPoint as=\&quot;offset\&quot; /&gt;\n            &lt;Array as=\&quot;points\&quot;&gt;\n              &lt;mxPoint x=\&quot;1987\&quot; y=\&quot;260\&quot; /&gt;\n            &lt;/Array&gt;\n          &lt;/mxGeometry&gt;\n        &lt;/mxCell&gt;\n        &lt;mxCell id=\&quot;ZrfB_EpvOdFak8gvY_mV-260\&quot; edge=\&quot;1\&quot; parent=\&quot;1\&quot; source=\&quot;ZrfB_EpvOdFak8gvY_mV-184\&quot; style=\&quot;curved=1;startArrow=none;endArrow=block;exitX=1;exitY=0.5;entryX=0;entryY=0.411;rounded=0;entryDx=0;entryDy=0;entryPerimeter=0;exitDx=0;exitDy=0;\&quot; target=\&quot;ZrfB_EpvOdFak8gvY_mV-188\&quot; value=\&quot;incluye etapa de\&quot;&gt;\n          &lt;mxGeometry relative=\&quot;1\&quot; x=\&quot;0.1638\&quot; y=\&quot;-13\&quot; as=\&quot;geometry\&quot;&gt;\n            &lt;mxPoint as=\&quot;offset\&quot; /&gt;\n            &lt;Array as=\&quot;points\&quot;&gt;\n              &lt;mxPoint x=\&quot;1987\&quot; y=\&quot;320\&quot; /&gt;\n            &lt;/Array&gt;\n          &lt;/mxGeometry&gt;\n        &lt;/mxCell&gt;\n        &lt;mxCell id=\&quot;ZrfB_EpvOdFak8gvY_mV-261\&quot; edge=\&quot;1\&quot; parent=\&quot;1\&quot; source=\&quot;ZrfB_EpvOdFak8gvY_mV-151\&quot; style=\&quot;curved=1;startArrow=none;endArrow=block;exitX=1;exitY=0.25;entryX=0;entryY=0.75;rounded=0;exitDx=0;exitDy=0;entryDx=0;entryDy=0;\&quot; target=\&quot;ZrfB_EpvOdFak8gvY_mV-189\&quot; value=\&quot;puede manipularse mediante\&quot;&gt;\n          &lt;mxGeometry relative=\&quot;1\&quot; as=\&quot;geometry\&quot;&gt;\n            &lt;Array as=\&quot;points\&quot; /&gt;\n          &lt;/mxGeometry&gt;\n        &lt;/mxCell&gt;\n        &lt;mxCell id=\&quot;ZrfB_EpvOdFak8gvY_mV-262\&quot; edge=\&quot;1\&quot; parent=\&quot;1\&quot; source=\&quot;ZrfB_EpvOdFak8gvY_mV-189\&quot; style=\&quot;curved=1;startArrow=none;endArrow=block;exitX=0.5;exitY=0;entryX=0;entryY=0.25;rounded=0;exitDx=0;exitDy=0;entryDx=0;entryDy=0;\&quot; target=\&quot;ZrfB_EpvOdFak8gvY_mV-190\&quot; value=\&quot;utiliza\&quot;&gt;\n          &lt;mxGeometry relative=\&quot;1\&quot; as=\&quot;geometry\&quot;&gt;\n            &lt;Array as=\&quot;points\&quot;&gt;\n              &lt;mxPoint x=\&quot;1987\&quot; y=\&quot;410\&quot; /&gt;\n            &lt;/Array&gt;\n          &lt;/mxGeometry&gt;\n        &lt;/mxCell&gt;\n        &lt;mxCell id=\&quot;ZrfB_EpvOdFak8gvY_mV-263\&quot; edge=\&quot;1\&quot; parent=\&quot;1\&quot; source=\&quot;ZrfB_EpvOdFak8gvY_mV-189\&quot; style=\&quot;curved=1;startArrow=none;endArrow=block;exitX=1;exitY=0.75;entryX=0;entryY=0.75;rounded=0;exitDx=0;exitDy=0;entryDx=0;entryDy=0;\&quot; target=\&quot;ZrfB_EpvOdFak8gvY_mV-191\&quot; value=\&quot;genera\&quot;&gt;\n          &lt;mxGeometry relative=\&quot;1\&quot; x=\&quot;0.0371\&quot; y=\&quot;9\&quot; as=\&quot;geometry\&quot;&gt;\n            &lt;mxPoint as=\&quot;offset\&quot; /&gt;\n            &lt;Array as=\&quot;points\&quot;&gt;\n              &lt;mxPoint x=\&quot;2067\&quot; y=\&quot;500\&quot; /&gt;\n            &lt;/Array&gt;\n          &lt;/mxGeometry&gt;\n        &lt;/mxCell&gt;\n        &lt;mxCell id=\&quot;ZrfB_EpvOdFak8gvY_mV-264\&quot; edge=\&quot;1\&quot; parent=\&quot;1\&quot; source=\&quot;ZrfB_EpvOdFak8gvY_mV-151\&quot; style=\&quot;curved=1;startArrow=none;endArrow=block;exitX=1;exitY=0.54;entryX=0.5;entryY=0;rounded=0;\&quot; target=\&quot;ZrfB_EpvOdFak8gvY_mV-192\&quot; value=\&quot;puede cortarse con\&quot;&gt;\n          &lt;mxGeometry relative=\&quot;1\&quot; x=\&quot;0.1602\&quot; y=\&quot;-13\&quot; as=\&quot;geometry\&quot;&gt;\n            &lt;mxPoint as=\&quot;offset\&quot; /&gt;\n            &lt;Array as=\&quot;points\&quot;&gt;\n              &lt;mxPoint x=\&quot;1747\&quot; y=\&quot;630\&quot; /&gt;\n            &lt;/Array&gt;\n          &lt;/mxGeometry&gt;\n        &lt;/mxCell&gt;\n        &lt;mxCell id=\&quot;ZrfB_EpvOdFak8gvY_mV-265\&quot; edge=\&quot;1\&quot; parent=\&quot;1\&quot; source=\&quot;ZrfB_EpvOdFak8gvY_mV-192\&quot; style=\&quot;curved=1;startArrow=none;endArrow=block;exitX=0;exitY=0.91;entryX=0.5;entryY=0;rounded=0;\&quot; target=\&quot;ZrfB_EpvOdFak8gvY_mV-193\&quot; value=\&quot;reconoce\&quot;&gt;\n          &lt;mxGeometry relative=\&quot;1\&quot; as=\&quot;geometry\&quot;&gt;\n            &lt;Array as=\&quot;points\&quot;&gt;\n              &lt;mxPoint x=\&quot;1597\&quot; y=\&quot;810\&quot; /&gt;\n            &lt;/Array&gt;\n          &lt;/mxGeometry&gt;\n        &lt;/mxCell&gt;\n        &lt;mxCell id=\&quot;ZrfB_EpvOdFak8gvY_mV-266\&quot; edge=\&quot;1\&quot; parent=\&quot;1\&quot; source=\&quot;ZrfB_EpvOdFak8gvY_mV-192\&quot; style=\&quot;curved=1;startArrow=none;endArrow=block;exitX=0.3;exitY=1;entryX=0.5;entryY=0;rounded=0;\&quot; target=\&quot;ZrfB_EpvOdFak8gvY_mV-194\&quot; value=\&quot;produce\&quot;&gt;\n          &lt;mxGeometry relative=\&quot;1\&quot; as=\&quot;geometry\&quot;&gt;\n            &lt;Array as=\&quot;points\&quot;&gt;\n              &lt;mxPoint x=\&quot;1757\&quot; y=\&quot;830\&quot; /&gt;\n            &lt;/Array&gt;\n          &lt;/mxGeometry&gt;\n        &lt;/mxCell&gt;\n        &lt;mxCell id=\&quot;ZrfB_EpvOdFak8gvY_mV-267\&quot; edge=\&quot;1\&quot; parent=\&quot;1\&quot; source=\&quot;ZrfB_EpvOdFak8gvY_mV-192\&quot; style=\&quot;curved=1;startArrow=none;endArrow=block;exitX=0.69;exitY=1;entryX=0.5;entryY=0;rounded=0;\&quot; target=\&quot;ZrfB_EpvOdFak8gvY_mV-195\&quot; value=\&quot;produce\&quot;&gt;\n          &lt;mxGeometry relative=\&quot;1\&quot; as=\&quot;geometry\&quot;&gt;\n            &lt;Array as=\&quot;points\&quot;&gt;\n              &lt;mxPoint x=\&quot;1897\&quot; y=\&quot;810\&quot; /&gt;\n            &lt;/Array&gt;\n          &lt;/mxGeometry&gt;\n        &lt;/mxCell&gt;\n        &lt;mxCell id=\&quot;ZrfB_EpvOdFak8gvY_mV-268\&quot; edge=\&quot;1\&quot; parent=\&quot;1\&quot; source=\&quot;ZrfB_EpvOdFak8gvY_mV-194\&quot; style=\&quot;curved=1;startArrow=none;endArrow=block;exitX=0.5;exitY=1;entryX=0.25;entryY=0;rounded=0;entryDx=0;entryDy=0;\&quot; target=\&quot;ZrfB_EpvOdFak8gvY_mV-196\&quot; value=\&quot;pueden unirse por\&quot;&gt;\n          &lt;mxGeometry relative=\&quot;1\&quot; as=\&quot;geometry\&quot;&gt;\n            &lt;Array as=\&quot;points\&quot;&gt;\n              &lt;mxPoint x=\&quot;1757\&quot; y=\&quot;970\&quot; /&gt;\n            &lt;/Array&gt;\n          &lt;/mxGeometry&gt;\n        &lt;/mxCell&gt;\n        &lt;mxCell id=\&quot;ZrfB_EpvOdFak8gvY_mV-269\&quot; edge=\&quot;1\&quot; parent=\&quot;1\&quot; source=\&quot;ZrfB_EpvOdFak8gvY_mV-195\&quot; style=\&quot;curved=1;startArrow=none;endArrow=block;exitX=0.5;exitY=1;entryX=0.75;entryY=0;rounded=0;entryDx=0;entryDy=0;\&quot; target=\&quot;ZrfB_EpvOdFak8gvY_mV-196\&quot; value=\&quot;facilitan\&quot;&gt;\n          &lt;mxGeometry relative=\&quot;1\&quot; as=\&quot;geometry\&quot;&gt;\n            &lt;Array as=\&quot;points\&quot;&gt;\n              &lt;mxPoint x=\&quot;1877\&quot; y=\&quot;970\&quot; /&gt;\n            &lt;/Array&gt;\n          &lt;/mxGeometry&gt;\n        &lt;/mxCell&gt;\n        &lt;mxCell id=\&quot;ZrfB_EpvOdFak8gvY_mV-270\&quot; edge=\&quot;1\&quot; parent=\&quot;1\&quot; source=\&quot;ZrfB_EpvOdFak8gvY_mV-196\&quot; style=\&quot;curved=1;startArrow=none;endArrow=block;exitX=0.5;exitY=1;entryX=0.5;entryY=0;rounded=0;\&quot; target=\&quot;ZrfB_EpvOdFak8gvY_mV-197\&quot; value=\&quot;se estabiliza por\&quot;&gt;\n          &lt;mxGeometry relative=\&quot;1\&quot; as=\&quot;geometry\&quot;&gt;\n            &lt;Array as=\&quot;points\&quot; /&gt;\n          &lt;/mxGeometry&gt;\n        &lt;/mxCell&gt;\n        &lt;mxCell id=\&quot;ZrfB_EpvOdFak8gvY_mV-271\&quot; edge=\&quot;1\&quot; parent=\&quot;1\&quot; source=\&quot;ZrfB_EpvOdFak8gvY_mV-151\&quot; style=\&quot;curved=1;startArrow=none;endArrow=block;exitX=1;exitY=0.54;entryX=0.5;entryY=0;rounded=0;\&quot; target=\&quot;ZrfB_EpvOdFak8gvY_mV-198\&quot; value=\&quot;puede separarse mediante\&quot;&gt;\n          &lt;mxGeometry relative=\&quot;1\&quot; x=\&quot;0.4524\&quot; y=\&quot;-14\&quot; as=\&quot;geometry\&quot;&gt;\n            &lt;mxPoint as=\&quot;offset\&quot; /&gt;\n            &lt;Array as=\&quot;points\&quot;&gt;\n              &lt;mxPoint x=\&quot;1857\&quot; y=\&quot;610\&quot; /&gt;\n              &lt;mxPoint x=\&quot;2037\&quot; y=\&quot;850\&quot; /&gt;\n            &lt;/Array&gt;\n          &lt;/mxGeometry&gt;\n        &lt;/mxCell&gt;\n        &lt;mxCell id=\&quot;ZrfB_EpvOdFak8gvY_mV-272\&quot; edge=\&quot;1\&quot; parent=\&quot;1\&quot; source=\&quot;ZrfB_EpvOdFak8gvY_mV-151\&quot; style=\&quot;curved=1;startArrow=none;endArrow=block;exitX=1;exitY=0.53;entryX=0.157;entryY=-0.032;rounded=0;entryDx=0;entryDy=0;entryPerimeter=0;\&quot; target=\&quot;ZrfB_EpvOdFak8gvY_mV-199\&quot; value=\&quot;puede detectarse con\&quot;&gt;\n          &lt;mxGeometry relative=\&quot;1\&quot; as=\&quot;geometry\&quot;&gt;\n            &lt;Array as=\&quot;points\&quot;&gt;\n              &lt;mxPoint x=\&quot;1997\&quot; y=\&quot;630\&quot; /&gt;\n            &lt;/Array&gt;\n          &lt;/mxGeometry&gt;\n        &lt;/mxCell&gt;\n        &lt;mxCell id=\&quot;ZrfB_EpvOdFak8gvY_mV-273\&quot; edge=\&quot;1\&quot; parent=\&quot;1\&quot; source=\&quot;ZrfB_EpvOdFak8gvY_mV-199\&quot; style=\&quot;curved=1;startArrow=none;endArrow=block;exitX=0.5;exitY=1;entryX=0.5;entryY=0;rounded=0;\&quot; target=\&quot;ZrfB_EpvOdFak8gvY_mV-200\&quot; value=\&quot;se aplica en\&quot;&gt;\n          &lt;mxGeometry relative=\&quot;1\&quot; as=\&quot;geometry\&quot;&gt;\n            &lt;Array as=\&quot;points\&quot;&gt;\n              &lt;mxPoint x=\&quot;2132\&quot; y=\&quot;790\&quot; /&gt;\n            &lt;/Array&gt;\n          &lt;/mxGeometry&gt;\n        &lt;/mxCell&gt;\n        &lt;mxCell id=\&quot;ZrfB_EpvOdFak8gvY_mV-274\&quot; edge=\&quot;1\&quot; parent=\&quot;1\&quot; source=\&quot;ZrfB_EpvOdFak8gvY_mV-151\&quot; style=\&quot;curved=1;startArrow=none;endArrow=block;exitX=1;exitY=0.53;entryX=0;entryY=0.5;rounded=0;entryDx=0;entryDy=0;\&quot; target=\&quot;ZrfB_EpvOdFak8gvY_mV-201\&quot; value=\&quot;presenta\&quot;&gt;\n          &lt;mxGeometry relative=\&quot;1\&quot; as=\&quot;geometry\&quot;&gt;\n            &lt;Array as=\&quot;points\&quot;&gt;\n              &lt;mxPoint x=\&quot;1917\&quot; y=\&quot;550\&quot; /&gt;\n            &lt;/Array&gt;\n          &lt;/mxGeometry&gt;\n        &lt;/mxCell&gt;\n        &lt;mxCell id=\&quot;ZrfB_EpvOdFak8gvY_mV-275\&quot; edge=\&quot;1\&quot; parent=\&quot;1\&quot; source=\&quot;ZrfB_EpvOdFak8gvY_mV-201\&quot; style=\&quot;curved=1;startArrow=none;endArrow=block;exitX=0.25;exitY=1;entryX=0;entryY=0.25;rounded=0;entryDx=0;entryDy=0;exitDx=0;exitDy=0;\&quot; target=\&quot;ZrfB_EpvOdFak8gvY_mV-202\&quot; value=\&quot;se compara con\&quot;&gt;\n          &lt;mxGeometry relative=\&quot;1\&quot; x=\&quot;0.09\&quot; y=\&quot;6\&quot; as=\&quot;geometry\&quot;&gt;\n            &lt;mxPoint y=\&quot;-1\&quot; as=\&quot;offset\&quot; /&gt;\n            &lt;Array as=\&quot;points\&quot;&gt;\n              &lt;mxPoint x=\&quot;2127\&quot; y=\&quot;670\&quot; /&gt;\n            &lt;/Array&gt;\n          &lt;/mxGeometry&gt;\n        &lt;/mxCell&gt;\n        &lt;mxCell id=\&quot;ZrfB_EpvOdFak8gvY_mV-276\&quot; edge=\&quot;1\&quot; parent=\&quot;1\&quot; source=\&quot;ZrfB_EpvOdFak8gvY_mV-201\&quot; style=\&quot;curved=1;startArrow=none;endArrow=block;exitX=1.002;exitY=0.667;entryX=-0.014;entryY=0.398;rounded=0;exitDx=0;exitDy=0;exitPerimeter=0;entryDx=0;entryDy=0;entryPerimeter=0;\&quot; target=\&quot;ZrfB_EpvOdFak8gvY_mV-203\&quot; value=\&quot;explica\&quot;&gt;\n          &lt;mxGeometry relative=\&quot;1\&quot; as=\&quot;geometry\&quot;&gt;\n            &lt;Array as=\&quot;points\&quot;&gt;\n              &lt;mxPoint x=\&quot;2367\&quot; y=\&quot;610\&quot; /&gt;\n            &lt;/Array&gt;\n          &lt;/mxGeometry&gt;\n        &lt;/mxCell&gt;\n        &lt;mxCell id=\&quot;ZrfB_EpvOdFak8gvY_mV-277\&quot; edge=\&quot;1\&quot; parent=\&quot;1\&quot; source=\&quot;ZrfB_EpvOdFak8gvY_mV-203\&quot; style=\&quot;curved=1;startArrow=none;endArrow=block;exitX=0.179;exitY=1.083;entryX=0.5;entryY=0;rounded=0;exitDx=0;exitDy=0;exitPerimeter=0;\&quot; target=\&quot;ZrfB_EpvOdFak8gvY_mV-204\&quot; value=\&quot;evidencia\&quot;&gt;\n          &lt;mxGeometry relative=\&quot;1\&quot; as=\&quot;geometry\&quot;&gt;\n            &lt;Array as=\&quot;points\&quot;&gt;\n              &lt;mxPoint x=\&quot;2457\&quot; y=\&quot;710\&quot; /&gt;\n            &lt;/Array&gt;\n          &lt;/mxGeometry&gt;\n        &lt;/mxCell&gt;\n        &lt;mxCell id=\&quot;ZrfB_EpvOdFak8gvY_mV-278\&quot; edge=\&quot;1\&quot; parent=\&quot;1\&quot; source=\&quot;ZrfB_EpvOdFak8gvY_mV-204\&quot; style=\&quot;curved=1;startArrow=none;endArrow=block;exitX=0.15;exitY=1;entryX=0.5;entryY=0;rounded=0;\&quot; target=\&quot;ZrfB_EpvOdFak8gvY_mV-205\&quot; value=\&quot;opera mediante\&quot;&gt;\n          &lt;mxGeometry relative=\&quot;1\&quot; as=\&quot;geometry\&quot;&gt;\n            &lt;Array as=\&quot;points\&quot;&gt;\n              &lt;mxPoint x=\&quot;2318\&quot; y=\&quot;841.5\&quot; /&gt;\n            &lt;/Array&gt;\n          &lt;/mxGeometry&gt;\n        &lt;/mxCell&gt;\n        &lt;mxCell id=\&quot;ZrfB_EpvOdFak8gvY_mV-279\&quot; edge=\&quot;1\&quot; parent=\&quot;1\&quot; source=\&quot;ZrfB_EpvOdFak8gvY_mV-205\&quot; style=\&quot;curved=1;startArrow=none;endArrow=block;exitX=0.5;exitY=1;entryX=0.5;entryY=0;rounded=0;\&quot; target=\&quot;ZrfB_EpvOdFak8gvY_mV-206\&quot; value=\&quot;conduce a\&quot;&gt;\n          &lt;mxGeometry relative=\&quot;1\&quot; as=\&quot;geometry\&quot;&gt;\n            &lt;Array as=\&quot;points\&quot; /&gt;\n          &lt;/mxGeometry&gt;\n        &lt;/mxCell&gt;\n        &lt;mxCell id=\&quot;ZrfB_EpvOdFak8gvY_mV-280\&quot; edge=\&quot;1\&quot; parent=\&quot;1\&quot; source=\&quot;ZrfB_EpvOdFak8gvY_mV-204\&quot; style=\&quot;curved=1;startArrow=none;endArrow=block;exitX=0.85;exitY=1;entryX=0.5;entryY=0;rounded=0;\&quot; target=\&quot;ZrfB_EpvOdFak8gvY_mV-207\&quot; value=\&quot;puede originar\&quot;&gt;\n          &lt;mxGeometry relative=\&quot;1\&quot; as=\&quot;geometry\&quot;&gt;\n            &lt;Array as=\&quot;points\&quot;&gt;\n              &lt;mxPoint x=\&quot;2532\&quot; y=\&quot;841.5\&quot; /&gt;\n            &lt;/Array&gt;\n          &lt;/mxGeometry&gt;\n        &lt;/mxCell&gt;\n        &lt;mxCell id=\&quot;ZrfB_EpvOdFak8gvY_mV-281\&quot; edge=\&quot;1\&quot; parent=\&quot;1\&quot; source=\&quot;ZrfB_EpvOdFak8gvY_mV-203\&quot; style=\&quot;curved=1;startArrow=none;endArrow=block;exitX=0.425;exitY=-0.065;entryX=0.542;entryY=0.981;rounded=0;exitDx=0;exitDy=0;exitPerimeter=0;entryDx=0;entryDy=0;entryPerimeter=0;\&quot; target=\&quot;ZrfB_EpvOdFak8gvY_mV-208\&quot; value=\&quot;se estudia con\&quot;&gt;\n          &lt;mxGeometry relative=\&quot;1\&quot; as=\&quot;geometry\&quot;&gt;\n            &lt;Array as=\&quot;points\&quot;&gt;\n              &lt;mxPoint x=\&quot;2493\&quot; y=\&quot;580\&quot; /&gt;\n            &lt;/Array&gt;\n          &lt;/mxGeometry&gt;\n        &lt;/mxCell&gt;\n        &lt;mxCell id=\&quot;ZrfB_EpvOdFak8gvY_mV-282\&quot; edge=\&quot;1\&quot; parent=\&quot;1\&quot; source=\&quot;ZrfB_EpvOdFak8gvY_mV-208\&quot; style=\&quot;curved=1;startArrow=none;endArrow=block;exitX=0.5;exitY=0;entryX=0.5;entryY=1;rounded=0;exitDx=0;exitDy=0;entryDx=0;entryDy=0;\&quot; target=\&quot;ZrfB_EpvOdFak8gvY_mV-209\&quot; value=\&quot;emplea\&quot;&gt;\n          &lt;mxGeometry relative=\&quot;1\&quot; as=\&quot;geometry\&quot;&gt;\n            &lt;Array as=\&quot;points\&quot; /&gt;\n          &lt;/mxGeometry&gt;\n        &lt;/mxCell&gt;\n        &lt;mxCell id=\&quot;ZrfB_EpvOdFak8gvY_mV-283\&quot; edge=\&quot;1\&quot; parent=\&quot;1\&quot; source=\&quot;ZrfB_EpvOdFak8gvY_mV-209\&quot; style=\&quot;curved=1;startArrow=none;endArrow=block;rounded=0;entryX=0.5;entryY=1;entryDx=0;entryDy=0;exitX=0.475;exitY=-0.019;exitDx=0;exitDy=0;exitPerimeter=0;\&quot; target=\&quot;ZrfB_EpvOdFak8gvY_mV-210\&quot; value=\&quot;implementado en\&quot;&gt;\n          &lt;mxGeometry relative=\&quot;1\&quot; as=\&quot;geometry\&quot;&gt;\n            &lt;Array as=\&quot;points\&quot;&gt;\n              &lt;mxPoint x=\&quot;2462\&quot; y=\&quot;340\&quot; /&gt;\n            &lt;/Array&gt;\n            &lt;mxPoint x=\&quot;2467\&quot; y=\&quot;360\&quot; as=\&quot;sourcePoint\&quot; /&gt;\n            &lt;mxPoint x=\&quot;2462\&quot; y=\&quot;310\&quot; as=\&quot;targetPoint\&quot; /&gt;\n          &lt;/mxGeometry&gt;\n        &lt;/mxCell&gt;\n        &lt;mxCell id=\&quot;ZrfB_EpvOdFak8gvY_mV-284\&quot; edge=\&quot;1\&quot; parent=\&quot;1\&quot; source=\&quot;ZrfB_EpvOdFak8gvY_mV-210\&quot; style=\&quot;curved=1;startArrow=none;endArrow=block;exitX=0.5;exitY=0;entryX=0.5;entryY=1;rounded=0;exitDx=0;exitDy=0;entryDx=0;entryDy=0;\&quot; target=\&quot;ZrfB_EpvOdFak8gvY_mV-211\&quot; value=\&quot;pertenece a\&quot;&gt;\n          &lt;mxGeometry relative=\&quot;1\&quot; x=\&quot;0.074\&quot; y=\&quot;6\&quot; as=\&quot;geometry\&quot;&gt;\n            &lt;mxPoint as=\&quot;offset\&quot; /&gt;\n            &lt;Array as=\&quot;points\&quot; /&gt;\n          &lt;/mxGeometry&gt;\n        &lt;/mxCell&gt;\n        &lt;mxCell id=\&quot;ZrfB_EpvOdFak8gvY_mV-285\&quot; edge=\&quot;1\&quot; parent=\&quot;1\&quot; source=\&quot;ZrfB_EpvOdFak8gvY_mV-151\&quot; style=\&quot;curved=1;startArrow=none;endArrow=block;exitX=0.25;exitY=1;entryX=1;entryY=0.44;rounded=0;exitDx=0;exitDy=0;\&quot; target=\&quot;ZrfB_EpvOdFak8gvY_mV-212\&quot; value=\&quot;se representa como\&quot;&gt;\n          &lt;mxGeometry relative=\&quot;1\&quot; x=\&quot;0.24\&quot; y=\&quot;-38\&quot; as=\&quot;geometry\&quot;&gt;\n            &lt;mxPoint as=\&quot;offset\&quot; /&gt;\n            &lt;Array as=\&quot;points\&quot;&gt;\n              &lt;mxPoint x=\&quot;1527\&quot; y=\&quot;870\&quot; /&gt;\n            &lt;/Array&gt;\n          &lt;/mxGeometry&gt;\n        &lt;/mxCell&gt;\n        &lt;mxCell id=\&quot;ZrfB_EpvOdFak8gvY_mV-286\&quot; edge=\&quot;1\&quot; parent=\&quot;1\&quot; source=\&quot;ZrfB_EpvOdFak8gvY_mV-173\&quot; style=\&quot;curved=1;startArrow=none;endArrow=block;exitX=1;exitY=0.66;entryX=0;entryY=0.44;rounded=0;\&quot; target=\&quot;ZrfB_EpvOdFak8gvY_mV-212\&quot; value=\&quot;se representa como\&quot;&gt;\n          &lt;mxGeometry relative=\&quot;1\&quot; as=\&quot;geometry\&quot;&gt;\n            &lt;Array as=\&quot;points\&quot;&gt;\n              &lt;mxPoint x=\&quot;887\&quot; y=\&quot;960\&quot; /&gt;\n            &lt;/Array&gt;\n          &lt;/mxGeometry&gt;\n        &lt;/mxCell&gt;\n      &lt;/root&gt;\n    &lt;/mxGraphModel&gt;\n  &lt;/diagram&gt;\n&lt;/mxfile&gt;\n&quot;}"></div>
                    </div>
                </div>
            </div>

        </div>

        <footer>
            <p><strong>Proyecto de Bioinform谩tica</strong></p>
            <p>Universidad Nacional San Antonio Abad del Cusco</p>
            <p style="margin-top: 15px; font-size: 0.9em;">Python | Flask | BioPython | Chart.js</p>
            <p style="margin-top: 10px; color: var(--secondary);">Versi贸n 2.0 - Con Comparativa Interactiva y Detalles de Genes</p>
        </footer>

        </main>
</div>

<!-- MODAL PARA DETALLES DE GEN -->
<div id="genModal" class="modal">
    <div class="modal-content">
        <button class="modal-close" onclick="cerrarModal()">
            <i class="fas fa-times"></i> Cerrar
        </button>
        <div id="genModalContent"></div>
    </div>
</div>

<script>
    // ========================================
    // FUNCIONES GENERALES
    // ========================================
    function toggleSidebar() {
        const sidebar = document.getElementById('sidebar');
        const mainContent = document.getElementById('mainContent');
        sidebar.classList.toggle('visible');
        sidebar.classList.toggle('hidden');
        mainContent.classList.toggle('expanded');
    }



    function aplicarAnchosProgreso() {
        document.querySelectorAll('.progress-fill[data-width]').forEach(el => {
            const raw = el.getAttribute('data-width');
            const value = parseFloat(raw);
            if (Number.isNaN(value)) return;
            const clamped = Math.max(0, Math.min(100, value));
            el.style.width = `${clamped}%`;
        });
    }
    
    function showSection(sectionId, clickedElement = null) {
        document.querySelectorAll('.section').forEach(el => el.classList.remove('active'));
        const targetSection = document.getElementById(sectionId);
        if (targetSection) {
            targetSection.classList.add('active');
        }
        
        document.querySelectorAll('.nav-item').forEach(el => el.classList.remove('active'));
        if (clickedElement) {
            clickedElement.classList.add('active');
        }
        
        if (sectionId === 'graficos') cargarGraficos();
        if (sectionId === 'genes') buscarGenes();
        if (sectionId === 'comparativa') cargarGenomosDisponibles();
        if (sectionId === 'asistente-ia') { /* Inicializar chat si es necesario */ }
        
        if (window.innerWidth <= 1024) {
            toggleSidebar();
        }
    }

    // ========================================
    // GRFICOS
    // ========================================
    async function cargarGraficos() {
        try {
            const response = await fetch('/api/datos-graficos');
            const data = await response.json();
            
            const ctx1 = document.getElementById('chartComparacion');
            if (ctx1) {
                new Chart(ctx1, {
                    type: 'bar',
                    data: {
                        labels: data.comparacion.labels,
                        datasets: [{
                            label: 'CDS (Correcto)',
                            data: data.comparacion.cds,
                            backgroundColor: 'rgba(0, 240, 255, 0.7)',
                            borderColor: 'rgba(0, 240, 255, 1)',
                            borderWidth: 2
                        }, {
                            label: 'Genoma Completo',
                            data: data.comparacion.genoma,
                            backgroundColor: 'rgba(255, 107, 107, 0.7)',
                            borderColor: 'rgba(255, 107, 107, 1)',
                            borderWidth: 2
                        }]
                    },
                    options: { 
                        responsive: true, 
                        maintainAspectRatio: false,
                        plugins: {
                            legend: { labels: { color: '#e0e0ff' } }
                        },
                        scales: {
                            y: { ticks: { color: '#e0e0ff' }, grid: { color: 'rgba(0,240,255,0.1)' } },
                            x: { ticks: { color: '#e0e0ff' }, grid: { color: 'rgba(0,240,255,0.1)' } }
                        }
                    }
                });
            }

            const ctx2 = document.getElementById('chartProporciones');
            if (ctx2) {
                new Chart(ctx2, {
                    type: 'pie',
                    data: {
                        labels: ['TAA', 'TAG', 'TGA'],
                        datasets: [{
                            data: [data.proporciones_stop.TAA, data.proporciones_stop.TAG, data.proporciones_stop.TGA],
                            backgroundColor: ['rgba(0,240,255,0.8)', 'rgba(255,107,107,0.8)', 'rgba(125,249,255,0.8)'],
                            borderColor: ['rgba(0,240,255,1)', 'rgba(255,107,107,1)', 'rgba(125,249,255,1)'],
                            borderWidth: 2
                        }]
                    },
                    options: { 
                        responsive: true, 
                        maintainAspectRatio: false,
                        plugins: {
                            legend: { labels: { color: '#e0e0ff' } }
                        }
                    }
                });
            }
        } catch (e) {
            console.error('Error cargando gr谩ficos:', e);
        }
    }

    // ========================================
    // GENES CON BOTN VER
    // ========================================
    async function buscarGenes() {
        const search = document.getElementById('search-genes')?.value || '';
        try {
            const response = await fetch(`/api/genes?search=${encodeURIComponent(search)}`);
            const data = await response.json();

            let html = `<div class="table-wrapper"><table>
                <thead><tr><th>#</th><th>Gen</th><th>Producto</th><th>Longitud</th><th>Acci贸n</th></tr></thead>
                <tbody>`;

            data.genes.slice(0, 50).forEach((gen, idx) => {
                html += `<tr>
                    <td><span class="badge">${idx + 1}</span></td>
                    <td><strong style="color: var(--primary);">${gen.gen}</strong></td>
                    <td>${gen.producto.substring(0, 60)}...</td>
                    <td>${gen.longitud.toLocaleString()} pb</td>
                    <td>
                        <button class="btn-ver-gen" onclick="mostrarDetallesGen(${gen.id})">
                            <i class="fas fa-eye"></i> Ver
                        </button>
                    </td>
                </tr>`;
            });

            html += `</tbody></table></div>`;
            html += `<p style="color: #aaa; margin-top: 20px; text-align: center;">
                        Mostrando ${Math.min(data.genes.length, 50)} de ${data.total} genes
                     </p>`;
            document.getElementById('genes-results').innerHTML = html;
        } catch (error) {
            console.error('Error:', error);
            document.getElementById('genes-results').innerHTML = 
                '<p style="color: var(--accent); text-align: center;"><i class="fas fa-exclamation-triangle"></i> Error cargando genes</p>';
        }
    }

    async function mostrarDetallesGen(genId) {
        try {
            const response = await fetch(`/api/gen/${genId}`);
            const data = await response.json();

            let html = `
                <div class="gen-detalle">
                    <div class="gen-titulo">
                        <i class="fas fa-dna"></i> ${data.gen.gen}
                    </div>
                    
                    <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: 20px; margin-bottom: 25px;">
                        <div>
                            <strong style="color: var(--secondary);">Producto:</strong><br>
                            <span style="color: #e0e0ff;">${data.gen.producto}</span>
                        </div>
                        <div>
                            <strong style="color: var(--secondary);">ID Prote铆na:</strong><br>
                            <span style="color: #e0e0ff;">${data.gen.id_proteina}</span>
                        </div>
                        <div>
                            <strong style="color: var(--secondary);">Longitud:</strong><br>
                            <span style="color: var(--primary); font-size: 1.3em; font-weight: bold;">${data.gen.longitud.toLocaleString()} pb</span>
                        </div>
                        <div>
                            <strong style="color: var(--secondary);">Contenido GC:</strong><br>
                            <span style="color: var(--primary); font-size: 1.3em; font-weight: bold;">${data.gen.gc_gen.toFixed(2)}%</span>
                        </div>
                        <div>
                            <strong style="color: var(--secondary);">Posici贸n:</strong><br>
                            <span style="color: #e0e0ff;">${data.gen.inicio.toLocaleString()} - ${data.gen.fin.toLocaleString()}</span>
                        </div>
                    </div>

                    <h3 style="color: var(--primary); margin-top: 30px; margin-bottom: 15px;">
                        <i class="fas fa-flask"></i> S铆ntesis de Prote铆na
                    </h3>
                    <p><strong style="color: var(--secondary);">Secuencia de Prote铆na (${data.tama帽o_proteina} amino谩cidos):</strong></p>
                    <div style="font-family: monospace; background: rgba(0,240,255,0.08); padding: 20px; border-radius: 10px; 
                                word-break: break-all; max-height: 200px; overflow-y: auto; border: 2px solid var(--border); 
                                color: var(--secondary); line-height: 1.8; margin-top: 10px;">
                        ${data.proteina_sintesis}
                    </div>

                    <h3 style="color: var(--primary); margin-top: 30px; margin-bottom: 15px;">
                        <i class="fas fa-chart-bar"></i> Top 12 Codones en este Gen
                    </h3>
                    <div class="codones-grid">
            `;

            const topCodones = Object.entries(data.codones_frecuentes).slice(0, 12);
            topCodones.forEach(([codon, count]) => {
                html += `
                    <div class="codon-item">
                        <div class="codon-label">${codon}</div>
                        <div class="codon-count">${count}x</div>
                    </div>
                `;
            });

            html += `
                    </div>
                </div>
            `;

            document.getElementById('genModalContent').innerHTML = html;
            document.getElementById('genModal').classList.add('show');
        } catch (error) {
            console.error('Error:', error);
            alert('Error al cargar detalles del gen');
        }
    }

    function cerrarModal() {
        document.getElementById('genModal').classList.remove('show');
    }

    // Cerrar modal clickeando afuera
    window.onclick = function(event) {
        const modal = document.getElementById('genModal');
        if (event.target === modal) {
            cerrarModal();
        }
    }

    // ========================================
    // COMPARATIVA INTERACTIVA
    // ========================================
    async function cargarGenomosDisponibles() {
        try {
            const response = await fetch('/api/genomas-disponibles');
            const data = await response.json();
            
            const select1 = document.getElementById('genoma1-select');
            const select2 = document.getElementById('genoma2-select');
            
            select1.innerHTML = '';
            select2.innerHTML = '';
            
            data.genomas.forEach((genoma, idx) => {
                const opt1 = document.createElement('option');
                opt1.value = genoma;
                opt1.textContent = genoma;
                select1.appendChild(opt1);
                
                const opt2 = document.createElement('option');
                opt2.value = genoma;
                opt2.textContent = genoma;
                select2.appendChild(opt2);
            });
            
            // Pre-seleccionar distintos por defecto
            if (data.genomas.length >= 2) {
                select1.value = data.genomas[0];
                select2.value = data.genomas[1];
            }
        } catch (error) {
            console.error('Error cargando genomas:', error);
        }
    }

    async function compararGenomas() {
        const genoma1 = document.getElementById('genoma1-select').value;
        const genoma2 = document.getElementById('genoma2-select').value;
        
        if (!genoma1 || !genoma2) {
            alert('锔 Selecciona 2 genomas para comparar');
            return;
        }
        
        if (genoma1 === genoma2) {
            alert('锔 Selecciona 2 genomas diferentes');
            return;
        }
        
        document.getElementById('comparativa-loading').style.display = 'block';
        document.getElementById('comparativa-result').style.display = 'none';
        
        try {
            const response = await fetch(`/api/comparar-genomas?genoma1=${encodeURIComponent(genoma1)}&genoma2=${encodeURIComponent(genoma2)}`);
            const data = await response.json();
            
            mostrarComparativa(data);
            document.getElementById('comparativa-loading').style.display = 'none';
            document.getElementById('comparativa-result').style.display = 'block';
        } catch (error) {
            console.error('Error:', error);
            alert(' Error al comparar genomas');
            document.getElementById('comparativa-loading').style.display = 'none';
        }
    }

    function mostrarComparativa(data) {
        // Resumen de diferencias
        const resumen = data.resumen_diferencias;
        let resumenHTML = `
            <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(220px, 1fr)); gap: 20px;">
                <div style="background: rgba(0,240,255,0.1); padding: 20px; border-radius: 12px; border: 2px solid var(--border);">
                    <strong style="color: var(--secondary); font-size: 0.9em;">Diferencia de Longitud:</strong><br>
                    <span style="color: var(--primary); font-size: 1.5em; font-weight: bold;">
                        卤 ${resumen.diferencia_longitud.toLocaleString()} pb
                    </span>
                </div>
                <div style="background: rgba(0,240,255,0.1); padding: 20px; border-radius: 12px; border: 2px solid var(--border);">
                    <strong style="color: var(--secondary); font-size: 0.9em;">Diferencia de Genes:</strong><br>
                    <span style="color: var(--primary); font-size: 1.5em; font-weight: bold;">
                        卤 ${resumen.diferencia_genes} genes
                    </span>
                </div>
                <div style="background: rgba(0,240,255,0.1); padding: 20px; border-radius: 12px; border: 2px solid var(--border);">
                    <strong style="color: var(--secondary); font-size: 0.9em;">Diferencia GC:</strong><br>
                    <span style="color: var(--primary); font-size: 1.5em; font-weight: bold;">
                        卤 ${resumen.diferencia_gc.toFixed(2)}%
                    </span>
                </div>
                <div style="background: rgba(0,240,255,0.1); padding: 20px; border-radius: 12px; border: 2px solid var(--border);">
                    <strong style="color: var(--secondary); font-size: 0.9em;">Codones Diferentes:</strong><br>
                    <span style="color: var(--primary); font-size: 1.5em; font-weight: bold;">
                        ${resumen.codones_diferentes} de ${resumen.total_codones}
                    </span>
                </div>
            </div>
        `;
        document.getElementById('resumen-diferencias').innerHTML = resumenHTML;

        // Genomas lado a lado
        let genomas_html = '';
        
        ['genoma1', 'genoma2'].forEach(key => {
            const g = data[key];
            genomas_html += `
                <div class="genoma-card">
                    <div class="genoma-titulo">
                        <i class="fas fa-dna"></i> ${g.nombre}
                    </div>
                    <div class="stat-row">
                        <strong>Longitud:</strong>
                        <span>${(g.longitud / 1_000_000).toFixed(2)} Mb</span>
                    </div>
                    <div class="stat-row">
                        <strong>Genes:</strong>
                        <span>${g.num_genes.toLocaleString()}</span>
                    </div>
                    <div class="stat-row">
                        <strong>Contenido GC:</strong>
                        <span>${g.gc.toFixed(2)}%</span>
                    </div>
                    <div class="stat-row">
                        <strong>Compactaci贸n:</strong>
                        <span>${g.compactacion.toFixed(2)}%</span>
                    </div>
                </div>
            `;
        });
        
        document.getElementById('genomas-info').innerHTML = genomas_html;

        // Diferencias codon por codon
        let diferencias_html = '';
        
        data.diferencias_codones.forEach((diff, idx) => {
            const dir = diff.diferencia > 0 ? '' : '';
            const color = diff.diferencia > 0 ? 'var(--secondary)' : '#ff9999';
            
            diferencias_html += `
                <div class="diferencia-item">
                    <div class="diferencia-header">
                        <span class="codon-badge">${diff.codon}</span>
                        <span style="color: ${color}; font-weight: bold; font-size: 1.4em;">
                            ${dir} ${Math.abs(diff.diferencia).toLocaleString()}
                        </span>
                    </div>
                    <div class="diferencia-valor">
                        <div class="valor-genoma">
                            <strong>${data.genoma1.nombre}:</strong><br>
                            <span style="color: var(--primary); font-size: 1.3em;">${diff[data.genoma1.nombre].toLocaleString()}</span>
                        </div>
                        <span class="flecha-diferencia"></span>
                        <div class="valor-genoma">
                            <strong>${data.genoma2.nombre}:</strong><br>
                            <span style="color: var(--primary); font-size: 1.3em;">${diff[data.genoma2.nombre].toLocaleString()}</span>
                        </div>
                    </div>
                    <p style="color: var(--secondary); font-size: 0.95em; margin-top: 12px;">
                        Cambio: ${diff.porcentaje_diff.toFixed(1)}%
                    </p>
                </div>
            `;
        });
        
        document.getElementById('diferencias-codones').innerHTML = diferencias_html;
    }

    // ========================================
    // INICIALIZACIN
    // ========================================
    if (window.innerWidth <= 1024) {
        document.getElementById('sidebar').classList.add('hidden');
        document.getElementById('mainContent').classList.add('expanded');
    }

// ========================================
    // SISTEMA DE IA - CHATBOT
    // ========================================
    document.addEventListener('DOMContentLoaded', () => {
    let rolActual = 'estudiante';
    let sessionId = 'session_' + Date.now();
    
    function seleccionarRol(rol) {
        rolActual = rol;
        
        // Actualizar UI
        const roleOptions = document.querySelectorAll('.role-option');
        if (!roleOptions.length) {
            console.error('Elementos del chat no encontrados: .role-option');
            return;
        }
        roleOptions.forEach(opt => {
            opt.classList.remove('active');
        });
        const activeRole = document.querySelector(`[data-role="${rol}"]`);
        if (activeRole) {
            activeRole.classList.add('active');
        }
        
        // Agregar mensaje del sistema
        agregarMensajeAsistente(`He cambiado al modo ${rol}. Ahora adaptar茅 mis explicaciones a este nivel.`);
    }
    
    function enviarPreguntaSugerida(elemento) {
        const pregunta = elemento.textContent.trim();
        const input = document.getElementById('chatInput');
        if (!input) {
            console.error('Elemento del chat no encontrado: #chatInput');
            return;
        }
        input.value = pregunta;
        enviarMensaje();
    }
    
    async function enviarMensaje() {
        const input = document.getElementById('chatInput');
        const sendBtn = document.getElementById('chatSendBtn');
        if (!input || !sendBtn) {
            console.error('Elementos del chat no encontrados: #chatInput o #chatSendBtn');
            return;
        }
        const mensaje = input.value.trim();
        
        if (!mensaje) return;
        
        // Agregar mensaje del usuario
        agregarMensajeUsuario(mensaje);
        input.value = '';
        
        // Deshabilitar input mientras procesa
        sendBtn.disabled = true;
        input.disabled = true;
        
        // Mostrar indicador de escritura
        mostrarTypingIndicator();
        
        try {
            const response = await fetch('/api/chat', {
                method: 'POST',
                headers: {
                    'Content-Type': 'application/json',
                },
                body: JSON.stringify({
                    message: mensaje,
                    role: rolActual,
                    session_id: sessionId
                })
            });
            
            const data = await response.json();
            
            if (data.error) {
                agregarMensajeAsistente(` Error: ${data.error}`);
            } else {
                agregarMensajeAsistente(data.response);
            }
        } catch (error) {
            console.error('Error:', error);
            agregarMensajeAsistente(' Error de conexi贸n. Por favor, intenta de nuevo.');
        } finally {
            ocultarTypingIndicator();
            sendBtn.disabled = false;
            input.disabled = false;
            input.focus();
        }
    }
    
    function agregarMensajeUsuario(texto) {
        const messagesContainer = document.getElementById('chatMessages');
        if (!messagesContainer) {
            console.error('Elemento del chat no encontrado: #chatMessages');
            return;
        }
        
        // Remover mensaje de bienvenida si existe
        const welcome = messagesContainer.querySelector('.welcome-message');
        if (welcome) welcome.remove();
        
        const messageDiv = document.createElement('div');
        messageDiv.className = 'message message-user';
        messageDiv.innerHTML = `
            <div class="message-bubble">${escapeHtml(texto)}</div>
            <div class="message-timestamp">${new Date().toLocaleTimeString('es-PE', {hour: '2-digit', minute: '2-digit'})}</div>
        `;
        
        messagesContainer.appendChild(messageDiv);
        messagesContainer.scrollTop = messagesContainer.scrollHeight;
    }
    
    function agregarMensajeAsistente(texto) {
        const messagesContainer = document.getElementById('chatMessages');
        if (!messagesContainer) {
            console.error('Elemento del chat no encontrado: #chatMessages');
            return;
        }
        
        const messageDiv = document.createElement('div');
        messageDiv.className = 'message message-assistant';
        
        // Convertir markdown b谩sico a HTML
        let htmlTexto = texto
            .replace(/\*\*(.*?)\*\*/g, '<strong>$1</strong>')
            .replace(/\*(.*?)\*/g, '<em>$1</em>')
            .replace(/`(.*?)`/g, '<code style="background: rgba(0,240,255,0.1); padding: 2px 6px; border-radius: 4px;">$1</code>')
            .replace(/\n/g, '<br>');   //  aqu铆 estaba el error
        
        messageDiv.innerHTML = `
            <div class="message-bubble">${htmlTexto}</div>
            <div class="message-timestamp">${new Date().toLocaleTimeString('es-PE', {hour: '2-digit', minute: '2-digit'})}</div>
        `;
        
        messagesContainer.appendChild(messageDiv);
        messagesContainer.scrollTop = messagesContainer.scrollHeight;
    }
    
    function mostrarTypingIndicator() {
        const messagesContainer = document.getElementById('chatMessages');
        if (!messagesContainer) {
            console.error('Elemento del chat no encontrado: #chatMessages');
            return;
        }
        
        const typingDiv = document.createElement('div');
        typingDiv.className = 'message message-assistant';
        typingDiv.id = 'typingIndicator';
        typingDiv.innerHTML = `
            <div class="typing-indicator active">
                <span class="typing-dot"></span>
                <span class="typing-dot"></span>
                <span class="typing-dot"></span>
            </div>
        `;
        
        messagesContainer.appendChild(typingDiv);
        messagesContainer.scrollTop = messagesContainer.scrollHeight;
    }
    
    function ocultarTypingIndicator() {
        const indicator = document.getElementById('typingIndicator');
        if (indicator) indicator.remove();
    }
    
    function escapeHtml(text) {
        const div = document.createElement('div');
        div.textContent = text;
        return div.innerHTML;
    }
    
    window.seleccionarRol = seleccionarRol;
    window.enviarPreguntaSugerida = enviarPreguntaSugerida;
    window.enviarMensaje = enviarMensaje;

    // Auto-resize del textarea
    document.getElementById('chatInput')?.addEventListener('input', function() {
        this.style.height = 'auto';
        this.style.height = Math.min(this.scrollHeight, 120) + 'px';
    });
    });
    window.addEventListener('load', () => {
        aplicarAnchosProgreso();
        cargarGraficos();
        buscarGenes();
    });
</script>

<script type="text/javascript" src="https://viewer.diagrams.net/js/viewer-static.min.js"></script>

</body>
</html>
